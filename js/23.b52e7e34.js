(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{6198:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-lg"},[a("MultipleBreadcrumbs",{attrs:{"multiple-data":e.multipleData}}),a("q-table",{attrs:{data:e.tierList,columns:e.columns,"row-key":"sc_name","visible-columns":e.visibleColumns,loading:e.changeLoading,"rows-per-page-label":e.$t("records_per_page")},on:{"row-click":e.onRowClick},scopedSlots:e._u([{key:"top",fn:function(){return[a("h5",{staticClass:"q-my-none col-12",staticStyle:{"min-width":"150px"},attrs:{outlined:"",dense:"","options-dense":""}},[e._v("\n        "+e._s(e.$t("sc_class.table_title"))+"\n      ")])]},proxy:!0}])}),a("q-dialog",{attrs:{persistent:""},model:{value:e.delModalControl,callback:function(t){e.delModalControl=t},expression:"delModalControl"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6 text-weight-bold"},[e._v(e._s(e.$t("delete")))])]),a("q-card-section",{staticClass:"q-pt-none"},[a("span",{staticClass:"q-ml-sm"},[a("i18n",{attrs:{path:"tier.reconfirm"}},[a("span",{staticStyle:{"font-weight":"bold"},attrs:{place:"sclassid"}},[e._v(e._s(e.selectRow.sclassid))])])],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("cancel"),color:"orange"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("delete"),color:"red"},on:{click:e.deleteTier}})],1)],1)],1)],1)},r=[],l=a("2f62"),i=a("73ec"),s=a("7ffc"),c=function(){return c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},o=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(t){l(t)}}function s(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):r(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},u=function(e,t){var a,n,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(e){return function(t){return c([e,t])}}function c(l){if(a)throw new TypeError("Generator is already executing.");while(i)try{if(a=1,n&&(r=2&l[0]?n["return"]:l[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,n=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(s){l=[6,s],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},d={name:"StorageClassPage",components:{},preFetch:function(e){var t=e.store;t.dispatch("getTiers")},setup:function(){var e=["sc_name","transfer_mode","mode","create_labels","keep_labels","archive_labels","archive_delay"];return{visibleColumns:e}},data:function(){return{loading:!0,delModalControl:!1,selected:[],selectRow:[],byVisibility:!0,filter:"",maxLength:2}},computed:c(c({showCreate:function(){return Object(i["b"])(s["a"].tier_create)},showDetail:function(){return Object(i["b"])(s["a"].tier_detail)},showUpdate:function(){return Object(i["b"])(s["a"].tier_update)},showDelete:function(){return Object(i["b"])(s["a"].tier_delete)},columns:function(){var e=[{name:"sc_name",label:this.$t("sc_class.sc_name"),field:"sc_name",align:"center"},{name:"transfer_mode",label:this.$t("sc_class.transfer_mode"),field:"transfer_mode",align:"center"},{name:"admin_only",label:this.$t("sc_class.admin_only"),field:"admin_only",align:"center"},{name:"mode",label:this.$t("sc_class.mode"),field:"mode",align:"center"},{name:"create_labels",label:this.$t("sc_class.create_labels"),field:"create_labels",align:"center"},{name:"keep_labels",label:this.$t("sc_class.keep_labels"),field:"keep_labels",align:"center"},{name:"archive_labels",label:this.$t("sc_class.archive_labels"),field:"archive_labels",align:"center"},{name:"archive_delay",label:this.$t("sc_class.archive_delay"),align:"center"},{name:"operation",label:this.$t("operation"),field:"operation",align:"center"}];return e},multipleData:function(){var e=[{icon:"icon_dashboard",to:"/dashboard"},{label:this.$t("breadCrumbs.data_protection"),icon:"icon_data_protection"},{label:this.$t("breadCrumbs.tier.storage_class")}];return e},changeLoading:function(){return!(this.getTierList.length>=0)},reqs:function(){return this.columns.reduce((function(e,t){return t.required&&e.push(t.name),e}),[])}},Object(l["e"])({tierList:function(e){return e.tiers.tier_list}})),Object(l["c"])({getTierList:"getTierList"})),methods:c(c(c({},Object(l["d"])(["SET_TIER_LIST","SET_SELECT_TIER_ROW"])),Object(l["b"])(["getTiers","getTiersInfo","getDetailTier","createTier","updateTier","deleteTier"])),{deleteTier:function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.$store.dispatch("deleteTier",this.selectRow.id)];case 1:return e.sent(),[4,this.$store.dispatch("getTiers")];case 2:return e.sent(),[2]}}))}))}})},p=d,b=(a("f323"),a("2877")),f=a("9989"),h=a("eaac"),_=a("24e8"),m=a("f09f"),g=a("a370"),v=a("4b7e"),w=a("9c40"),y=a("7f67"),T=a("eebe"),C=a.n(T),$=Object(b["a"])(p,n,r,!1,null,null,null);t["default"]=$.exports;C()($,"components",{QPage:f["a"],QTable:h["a"],QDialog:_["a"],QCard:m["a"],QCardSection:g["a"],QCardActions:v["a"],QBtn:w["a"]}),C()($,"directives",{ClosePopup:y["a"]})},abce:function(e,t,a){},f323:function(e,t,a){"use strict";a("abce")}}]);