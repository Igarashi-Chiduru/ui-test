(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"3f5f":function(t,e,a){},7407:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg"},[a("MultipleBreadcrumbs",{attrs:{"multiple-data":t.multipleData}}),a("q-card",{staticClass:"q-mb-md no-border-radius text-grey-9"},[a("q-card-section",{staticClass:"bg-whit row items-center"},[a("q-item-label",{staticClass:"col-auto"},[a("q-avatar",{staticClass:"q-mr-sm",attrs:{color:"pink-1",size:"sm","text-color":"pink",icon:"analytics"}}),a("span",{staticClass:"text-weight-bold"},[t._v("\n          "+t._s(t.$t("dashboard.all_chunks_health_status"))+"\n        ")])],1)],1),a("q-separator"),a("q-table",{attrs:{data:t.table_data,columns:t.columns,"row-key":"target_goal",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header",fn:function(e){return[a("q-tr",{staticClass:"bg-grey-3 ",attrs:{props:e}},t._l(e.cols,(function(n){return a("q-th",{key:n.name,attrs:{props:e,colspan:"target_goal"===n.name?1:12,rowspan:"target_goal"===n.name?0:1}},[a("span",{staticClass:"text-weight-bold"},[t._v(t._s(n.label))])])})),1),a("q-tr",t._l(t.maxLength,(function(e,n){return a("div",{key:n,staticClass:"justify-center bg-grey-3 text-weight-bold",staticStyle:{display:"contents"}},[a("q-th",{staticStyle:{"vertical-align":"middle"}},n<10?[a("span",{staticClass:"text-weight-bold"},[t._v(t._s(n))])]:10==n?[a("span",{staticClass:"text-weight-bold"},[t._v(t._s(n+"+"))])]:[a("span",{staticClass:"text-weight-bold"},[t._v("all")])])],1)})),0)]}},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"target_goal",staticClass:"text-weight-bold",attrs:{props:e}},[t._v("\n            "+t._s(e.row.target_goal)+"\n          ")]),t._l(e.row.effective_goal,(function(n,s){return a("div",{key:"effective_goal"+s,staticStyle:{display:"contents"}},[a("q-td",{key:"hard_quota",class:t.get_color(e.row,s),staticStyle:{"vertical-align":"middle"},attrs:{align:"center"}},[t._v("\n              "+t._s(t.formatter(n,s,e.row))+"\n            ")])],1)}))],2)]}},{key:"bottom",fn:function(){return[a("div",{staticClass:"row"},[a("span",{staticClass:"text-weight-bold"},[t._v("\n            "+t._s(t.$t("dashboard.statistics_description"))+":\n          ")]),a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:"negative"}}),t._v("-\n            "),a("span",{staticClass:"q-mx-sm"},[t._v("\n              "+t._s(t.$t("dashboard.damage"))+" ("+t._s(t.missing_chunks)+")")])],1),a("q-separator",{attrs:{vertical:""}}),a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:"red"}}),t._v("-\n            "),a("span",{staticClass:"q-mx-sm"},[t._v("\n              "+t._s(t.$t("dashboard.danger"))+" ("+t._s(t.endangered_chunks)+")")])],1),a("q-separator",{attrs:{vertical:""}}),a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:"orange"}}),t._v("-\n            "),a("span",{staticClass:"q-mx-sm"},[t._v("\n              "+t._s(t.$t("dashboard.below_target"))+" ("+t._s(t.under_goal_chunks)+")")])],1),a("q-separator",{attrs:{vertical:""}}),a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:"green"}}),t._v("-\n            "),a("span",{staticClass:"q-mx-sm"},[t._v("\n              "+t._s(t.$t("dashboard.health"))+" ("+t._s(t.stable_chunks)+")")])],1),a("q-separator",{attrs:{vertical:""}}),a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:"blue"}}),t._v("-\n            "),a("span",{staticClass:"q-mx-sm"},[t._v("\n              "+t._s(t.$t("dashboard.exceed_goal"))+" ("+t._s(t.over_goal_chunks)+")")])],1),a("q-separator",{attrs:{vertical:""}}),a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:"purple"}}),t._v("-\n            "),a("span",{staticClass:"q-mx-sm"},[t._v("\n              "+t._s(t.$t("dashboard.mark_deletion"))+" ("+t._s(t.pending_delete_chunks)+")")])],1),a("q-separator",{attrs:{vertical:""}}),a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:"grey"}}),t._v("-\n            "),a("span",{staticClass:"q-mx-sm"},[t._v("\n              "+t._s(t.$t("dashboard.to_be_deleted"))+" ("+t._s(t.ready_remove_chunks)+")")])],1)],1)]},proxy:!0}])},[a("TableNoData",{attrs:{slot:"no-data",filter:""},slot:"no-data"})],1)],1)],1)},s=[],r=a("2f62"),i=a("4d91"),o=a("2ef0"),l=a.n(o),c=function(){return c=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var s in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},c.apply(this,arguments)},u=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,r){function i(t){try{l(n.next(t))}catch(e){r(e)}}function o(t){try{l(n["throw"](t))}catch(e){r(e)}}function l(t){t.done?a(t.value):s(t.value).then(i,o)}l((n=n.apply(t,e||[])).next())}))},d=function(t,e){var a,n,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(t){return function(e){return l([t,e])}}function l(r){if(a)throw new TypeError("Generator is already executing.");while(i)try{if(a=1,n&&(s=2&r[0]?n["return"]:r[0]?n["throw"]||((s=n["return"])&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(6===r[0]&&i.label<s[1]){i.label=s[1],s=r;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(r);break}s[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(o){r=[6,o],n=0}finally{a=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},h={name:"ChunkViewPage",components:{},preFetch:function(t){var e=t.store;return u(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,e.dispatch("getChunkMatrix")];case 1:return t.sent(),[2]}}))}))},setup:function(){return{}},created:function(){this.initData()},mounted:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("getChunkMatrix"),t.refreshData(),t.initData()}),5e3)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},destroyed:function(){clearInterval(this.timer),this.timer=null},data:function(){return{timer:null,pagination:{page:1,rowsNumber:100},chunk_matrix:l.a.cloneDeep(this.$store.state.report.chunk_matrix),table_data:[],missing_chunks:0,endangered_chunks:0,under_goal_chunks:0,stable_chunks:0,over_goal_chunks:0,ready_remove_chunks:0,pending_delete_chunks:0,maxLength:12}},computed:c(c({},Object(r["e"])({})),{get_color:function(){return function(t,e){return 0===+t.target_goal&&0===e?"text-grey":"all"!==t.target_goal&&11!==e?+t.target_goal===e?"text-green":+t.target_goal>e?0===e?"text-negative":1===e?"text-red":"text-orange":+t.target_goal<e?0===+t.target_goal?"text-purple":"text-blue":void 0:void 0}},columns:function(){var t=[{name:"target_goal",required:!0,label:i["b"].t("dashboard.target_goal"),align:"left",classes:"bg-grey-3 ellipsis",style:"width: 48px; height:10px",headerClasses:"bg-primary text-white"},{name:"effective_goal",align:"center",label:i["b"].t("dashboard.effective_goal")}];return t},multipleData:function(){var t=[{icon:"icon_dashboard",to:"/dashboard"},{label:this.$t("breadCrumbs.cluster_manager"),icon:"icon_cluster_manager",to:"/cluster_manager/chunk_view",call:this.refreshList},{label:this.$t("breadCrumbs.chunk_view.page")}];return t}}),methods:c(c(c({},Object(r["d"])([])),Object(r["b"])(["getChunkMatrix","getChunkHealth","getFileSystemHealth"])),{initData:function(){var t=this.chunk_matrix;for(var e in this.missing_chunks=t.missing_chunks,this.endangered_chunks=t.endangered_chunks,this.under_goal_chunks=t.under_goal_chunks,this.stable_chunks=t.stable_chunks,this.over_goal_chunks=t.over_goal_chunks,this.ready_remove_chunks=t.ready_remove_chunks,this.pending_delete_chunks=t.pending_delete_chunks,t.matrix)t.matrix[e].push(t.matrix[e].reduce((function(t,e){return t+e}))),this.table_data.push({target_goal:e,effective_goal:t.matrix[e]})},formatter:function(t,e,a){return 11!==e&&0===t?" ":t},refreshList:function(){return u(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,this.$store.dispatch("getChunkMatrix")];case 1:return t.sent(),[2]}}))}))},refreshData:function(){this.table_data=[],this.chunk_matrix=l.a.cloneDeep(this.$store.state.report.chunk_matrix)}})},_=h,g=(a("ff4d"),a("2877")),p=a("9989"),m=a("f09f"),f=a("a370"),b=a("0170"),v=a("cb32"),k=a("eb85"),x=a("eaac"),y=a("bd08"),q=a("357e"),w=a("db86"),C=a("0016"),$=a("eebe"),D=a.n($),Q=Object(g["a"])(_,n,s,!1,null,null,null);e["default"]=Q.exports;D()(Q,"components",{QPage:p["a"],QCard:m["a"],QCardSection:f["a"],QItemLabel:b["a"],QAvatar:v["a"],QSeparator:k["a"],QTable:x["a"],QTr:y["a"],QTh:q["a"],QTd:w["a"],QIcon:C["a"]})},ff4d:function(t,e,a){"use strict";a("3f5f")}}]);