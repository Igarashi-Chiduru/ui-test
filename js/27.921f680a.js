(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"94b3":function(e,t,n){"use strict";n("daae")},ada9:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"q-pa-lg"},[n("MultipleBreadcrumbs",{attrs:{"multiple-data":e.multipleData}}),n("q-table",{attrs:{data:e.permissionList,columns:e.columns,"row-key":"permission_id","visible-columns":e.visibleColumns,loading:e.changeLoading,filter:e.filter,"filter-method":e.onFilterData,"rows-per-page-label":e.$t("records_per_page")},on:{"row-click":e.onRowClick},scopedSlots:e._u([{key:"top",fn:function(){return[n("h5",{staticClass:"q-mt-none",staticStyle:{"min-width":"150px"},attrs:{outlined:"",dense:"","options-dense":""}},[e._v("\n        "+e._s(e.$t("permission.table_title"))+"\n      ")]),n("q-space"),n("TableFilter",{ref:"child",attrs:{filter:e.filter,columns:e.filter_columns,visibleColumns:e.visibleColumns},on:{"update:filter":function(t){e.filter=t}}}),n("q-select",{staticClass:"q-pa-md ",staticStyle:{"min-width":"150px"},attrs:{multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$t("columns"),"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":""},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),n("div",{staticClass:"q-pa-md "},[n("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.showCreate,expression:"showCreate"}],attrs:{to:"/user_manager/permissions/create",label:e.$t("create"),color:"primary"}})],1)]},proxy:!0},{key:"body-cell-operation",fn:function(t){return[n("q-td",{directives:[{name:"show",rawName:"v-show",value:e.showUpdate||e.showDelete,expression:"showUpdate || showDelete"}],attrs:{props:t}},[n("div",[n("q-btn",{staticStyle:{"background-color":"#fff"},attrs:{flat:"",color:"black",icon:"more_vert",dense:""}},[n("q-menu",[n("q-list",{staticStyle:{"min-width":"100px"}},[n("q-item",{directives:[{name:"show",rawName:"v-show",value:e.showUpdate,expression:"showUpdate"}],attrs:{clickable:"",to:"/user_manager/permissions/update"}},[n("q-item-section",[e._v(e._s(e.$t("update")))])],1),n("q-item",{attrs:{clickable:""}},[n("q-item-section",{directives:[{name:"show",rawName:"v-show",value:e.showDelete,expression:"showDelete"}],on:{click:function(t){e.delModalControl=!e.delModalControl}}},[e._v(e._s(e.$t("delete")))])],1)],1)],1)],1)],1)])]}}])}),n("q-dialog",{attrs:{persistent:""},model:{value:e.delModalControl,callback:function(t){e.delModalControl=t},expression:"delModalControl"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6 text-weight-bold"},[e._v(e._s(e.$t("delete")))])]),n("q-card-section",{staticClass:"q-pt-none"},[n("span",{staticClass:"q-ml-sm"},[n("i18n",{attrs:{path:"permission.reconfirm"}},[n("span",{staticStyle:{"font-weight":"bold"},attrs:{place:"permission"}},[e._v(e._s(e.selectRow.permission))])])],1)]),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("cancel"),color:"orange"}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("delete"),color:"red"},on:{click:e.deletePermissionData}})],1)],1)],1)],1)},s=[],o=n("e4fd"),a=n("2f62"),r=n("73ec"),l=n("7ffc"),c=function(){return c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},c.apply(this,arguments)},u=function(e,t,n,i){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function r(e){try{l(i["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):s(e.value).then(a,r)}l((i=i.apply(e,t||[])).next())}))},p=function(e,t){var n,i,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(s=2&o[0]?i["return"]:o[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(r){o=[6,r],i=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=Object(o["defineComponent"])({name:"PermissionPage",components:{},preFetch:function(e){var t=e.store;t.dispatch("getPermissions")},setup:function(){var e=["permission","display_name","included_menu"];return(Object(r["b"])(l["a"].permission_update)||Object(r["b"])(l["a"].permission_delete))&&e.push("operation"),{visibleColumns:e}},data:function(){return{loading:!0,delModalControl:!1,selected:[],selectRow:[],updateForm:{},filter:""}},computed:c(c({showCreate:function(){return Object(r["b"])(l["a"].permission_create)},showUpdate:function(){return Object(r["b"])(l["a"].permission_update)},showDelete:function(){return Object(r["b"])(l["a"].permission_delete)},filter_columns:function(){return this.columns.filter((function(e){return"operation"!==e.name}))},columns:function(){var e=this,t=[{name:"permission_id",label:this.$t("permission.permission_id"),field:"permission_id",align:"left"},{name:"permission",label:this.$t("permission.permission"),field:"permission",align:"left"},{name:"display_name",label:this.$t("permission.display_name"),field:"display_name",align:"left"},{name:"included_menu",label:this.$t("permission.included_menu"),field:"included_menu",align:"left",format:function(t){return e.$t(t)}},{name:"operation",label:this.$t("operation"),field:"operation",align:"center"}];return t},multipleData:function(){var e=[{label:this.$t("breadCrumbs.dashboard"),icon:"icon_dashboard",to:"/dashboard"},{label:this.$t("breadCrumbs.user_manager"),icon:"icon_user_manager"},{label:this.$t("breadCrumbs.permission.page"),icon:"person"}];return e},changeLoading:function(){return!(this.getPermissionList.length>=0)}},Object(a["e"])({permissionList:function(e){return e.permissions.permission_list}})),Object(a["c"])({getPermissionList:"getPermissionList"})),methods:c(c(c({},Object(a["d"])(["SET_PERMISSION_LIST","SET_SELECT_PERMISSION_ROW"])),Object(a["b"])(["getPermissions","deletePermissionInfo"])),{onRowClick:function(e,t,n){this.selectRow=t,this.$store.commit("SET_SELECT_PERMISSION_ROW",t)},onFilterData:function(e,t){return this.$refs.child.onFilter(e,t)},deletePermissionData:function(){return u(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return e={permission_id:this.selectRow.permission_id,permission:this.selectRow.permission},[4,this.$store.dispatch("deletePermissionInfo",e)];case 1:return t.sent(),[4,this.$store.dispatch("getPermissions")];case 2:return t.sent(),[2]}}))}))}})}),m=d,f=(n("94b3"),n("2877")),b=n("9989"),h=n("eaac"),w=n("2c91"),v=n("ddd8"),_=n("9c40"),g=n("db86"),C=n("4e73"),y=n("1c1c"),q=n("66e5"),S=n("4074"),$=n("24e8"),k=n("f09f"),O=n("a370"),P=n("4b7e"),x=n("7f67"),Q=n("eebe"),j=n.n(Q),D=Object(f["a"])(m,i,s,!1,null,null,null);t["default"]=D.exports;j()(D,"components",{QPage:b["a"],QTable:h["a"],QSpace:w["a"],QSelect:v["a"],QBtn:_["a"],QTd:g["a"],QMenu:C["a"],QList:y["a"],QItem:q["a"],QItemSection:S["a"],QDialog:$["a"],QCard:k["a"],QCardSection:O["a"],QCardActions:P["a"]}),j()(D,"directives",{ClosePopup:x["a"]})},daae:function(e,t,n){}}]);