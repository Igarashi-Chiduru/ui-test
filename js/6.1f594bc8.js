(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"5ea5":function(t,e,a){},9675:function(t,e,a){"use strict";a("5ea5")},d66d:function(t,e,a){"use strict";var s=a("2ef0"),o=a.n(s),i=a("313e"),r=a("4d91"),n={backgroundColor:"rgba(255,255,255,0.8)",color:"#141414",borderWidth:"1",borderColor:"#b5f5ec",extraCssText:"box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);",textStyle:{fontStyle:"normal",fontFamily:"Arial",color:"#595959",fontSize:12,lineHeight:24}},l=["#a0a9ff","#c759ab","#ffa940","#bae637","#9254de","#36cfc9","#ffec3d","#ff7a45","#597ef7","#73d13d","#ffc53d","#ff4d4f","#69c0ff","#ff85c0","#ffc069","#d3f261","#b37feb","#5cdbd3","#fff566","#ff9c6e","#85a5ff","#95de64","#ffd666","#ff7875"],c={title:{left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:n.backgroundColor,color:n.color,borderWidth:n.borderWidth,borderColor:n.borderColor,textStyle:n.textStyle,extraCssText:n.extraCssText,formatter:function(t){return u(t,"#40a9ff")}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category",axisTick:{alignWithLabel:!0}},yAxis:{show:!0,type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#d9d9d9"}}},legend:{icon:"circle",top:"auto",tooltip:{show:!0},data:[]},series:{name:"",type:"bar",color:l,barWidth:"45%",center:["50%","50%"],data:[],showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}},d={title:{left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},backgroundColor:n.backgroundColor,color:n.color,borderWidth:n.borderWidth,borderColor:n.borderColor,textStyle:n.textStyle,extraCssText:n.extraCssText,formatter:function(t){return u(t,"#40a9ff")}},toolbox:{feature:{dataView:{show:!0,readOnly:!1,title:r["b"].t("data_view"),lang:[r["b"].t("data_view"),r["b"].t("close"),r["b"].t("refresh")],buttonColor:l[0]},restore:{show:!0,title:r["b"].t("restore")},saveAsImage:{show:!0,title:r["b"].t("download")}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",axisTick:{alignWithLabel:!0}},yAxis:{show:!0,type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dotted",color:"#e9d9d9"}}},legend:{data:[]},series:{type:"line",color:l,areaStyle:{},smooth:.6,symbol:"none",symbolSize:1,itemStyle:{lineStyle:{color:"#40a9ff"},label:{show:!1,position:"top",textStyle:{color:"white"}}},data:[]}},m={title:{left:"left"},tooltip:{trigger:"item",backgroundColor:n.backgroundColor,color:n.color,borderWidth:n.borderWidth,borderColor:n.borderColor,extraCssText:n.extraCssText,textStyle:n.textStyle},legend:{icon:"circle",bottom:"bottom",itemHeight:10,padding:0,textStyle:{fontStyle:"normal",fontFamily:"Arial",color:"#595959",fontSize:13},tooltip:{show:!0}},series:{name:"",type:"pie",color:l,center:["50%","40%"],selectedMode:"single",radius:["40%","70%"],avoidLabelOverlap:!1,bottom:10,itemStyle:{borderRadius:1,padding:[2,4],borderWidth:2,borderColor:"#fff"},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"14",fontWeight:"bold"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!1},data:[]}};function p(t,e,a){void 0===a&&(a="8px");var s=document.createElement("div");s.innerHTML=t;var o=s.getElementsByTagName("span")[0].style;return o.width=a,o.height=a,e&&(o.backgroundColor=e),s.innerHTML}function u(t,e){var a=t;t instanceof Array&&(a=t[0]);var s=a.componentSubType,o=a.name,i=a.seriesName;"pie"===s&&(o=i,i=a.name);var r=p(a.marker,e),n=o+"<br>"+r+i+"："+a.value;return a.percent&&(n+=" ("+t.percent+"%)"),n}function h(t,e,a){t.myChart&&t.myChart.setOption?e?(t.myChart.setOption(e,!1,!1),e=null,a=null):(t.myChart.setOption(a),a=null):b(t)}function b(t){var e=document.getElementById(t.chartId);t.myChart=i["b"](e,t.theme);var a=f(t.defaultOption,t.option);t.myChart.setOption(a)}function f(t,e){var a=o.a.cloneDeep(t);return o.a.merge(a,e)}function _(t){t.myChart&&(i["a"](t.myChart),t.myChart=null)}e["a"]={defaultTooltip:n,defaultSeriesColor:l,defaultBarOption:c,defaultLineOption:d,defaultPieOption:m,changeMarkerSize:p,defaultFormatter:u,watchOptionRefresh:h,drawChart:b,destoryChart:_,mergerOption:f}},e046:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"line_chart",style:[{height:t.height+"px"}],attrs:{id:t.chartId}})},o=[],i=(a("a9e3"),a("d3b7"),a("25f0"),a("d66d")),r={name:"Eline",props:{height:{type:Number,default:200},theme:{type:String,default:"light"},option:{type:Object,required:!0}},data:function(){return{defaultOption:i["a"].defaultLineOption,myChart:{}}},computed:{chartId:function(){return"Eline-"+Math.random().toString(36).substr(2)}},methods:{resize:function(){var t=this;setTimeout((function(){t.myChart.resize()}),150)}},watch:{option:{handler:function(t,e){i["a"].watchOptionRefresh(this,t,e)},deep:!0}},created:function(){var t=this;this.$nextTick((function(){i["a"].drawChart(t)})),window.addEventListener("resize",this.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.resize),i["a"].destoryChart(this)}},n=r,l=a("2877"),c=Object(l["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},e876:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg"},[a("MultipleBreadcrumbs",{attrs:{"multiple-data":t.multipleData}}),a("q-card",{staticClass:"col-12"},[a("div",{staticClass:"q-py-none"},[a("q-card",{staticClass:"no-border-radius text-grey-9",attrs:{flat:""}},[a("q-card-section",{staticClass:"row items-center justify-between"},[a("q-item-label",{staticClass:"col-auto"},[a("div",{staticClass:"row items-center q-gutter-x-md"},[a("label",{staticClass:"text-weight-bold text-grey-7"},[t._v("\n                "+t._s(t.$t("ostat.select_node"))+":\n              ")]),a("q-select",{staticStyle:{"min-width":"150px","max-width":"220px"},attrs:{dense:"",outlined:"",options:t.nodeOptions,color:"primary","options-selected-class":"text-primary"},on:{input:t.changeLabel},scopedSlots:t._u([{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{domProps:{innerHTML:t._s(e.opt.label)}}),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.description))])],1)],1)]}}]),model:{value:t.form.machine_id,callback:function(e){t.$set(t.form,"machine_id",e)},expression:"form.machine_id"}}),a("label",{staticClass:"text-weight-bold text-grey-7"},[t._v("\n                "+t._s(t.$t("ostat.select_item_hint"))+":\n              ")]),a("q-select",{attrs:{dense:"",outlined:"","options-dense":"",options:t.options},on:{input:t.changeLabel},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}}),a("label",{staticClass:"q-mr-sm text-weight-bold text-grey-7"},[t._v("\n                "+t._s(t.$t("ostat.range_time"))+":\n              ")]),a("q-input",{attrs:{color:"primary",type:"date",outlined:"",dense:"",square:"",clearable:""},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}}),a("q-input",{attrs:{color:"primary",type:"time",outlined:"",dense:"",square:"",clearable:""},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}}),a("span",[t._v(" ~ ")]),a("q-input",{attrs:{color:"primary",type:"date",outlined:"",dense:"",square:"",clearable:""},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}}),a("q-input",{attrs:{color:"primary",type:"time",outlined:"",dense:"",square:"",clearable:""},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1)]),a("div",{staticClass:"items-center q-gutter-x-md"},[a("q-btn",{attrs:{color:"primary",label:t.$t("ostat.query")},on:{click:t.queryData}})],1)],1),a("q-separator"),a("div",{staticClass:"row q-pa-md"},[a("q-item-label",{staticClass:"col-md-12 col-xs-12 q-mb-sm",class:{"q-pr-md":t.$q.screen.gt.sm}},[a("q-item-label",{staticClass:"text-weight-bold"},[a("q-avatar",{staticClass:"q-mr-sm",attrs:{color:"green-1",size:"sm","text-color":"green",icon:"icon_cpu_usage"}}),"cpu"===t.form.type.value?a("span",[t._v(t._s(t.$t("ostat.cpu.cpu_statistics")))]):"memory"===t.form.type.value?a("span",[t._v(t._s(t.$t("ostat.memory.memory_statistics")))]):"disk"===t.form.type.value?a("span",[t._v(t._s(t.$t("ostat.disk.disk_statistics")))]):"net"===t.form.type.value?a("span",[t._v(t._s(t.$t("ostat.net.net_statistics")))]):"load"===t.form.type.value?a("span",[t._v(t._s(t.$t("ostat.load.load_statistics")))]):"swap"===t.form.type.value?a("span",[t._v(t._s(t.$t("ostat.swap.swap_statistics")))]):"process"===t.form.type.value?a("span",[t._v(t._s(t.$t("ostat.process.process_statistics")))]):t._e()],1),a("div",{staticClass:"q-mt-sm"},["cpu"===t.form.type.value?a("Eline",{key:1,attrs:{option:t.cpu_statistics_data.option,height:t.cpu_statistics_data.height}}):t._e(),"memory"===t.form.type.value?a("Eline",{key:2,attrs:{option:t.memory_statistics_data.option,height:t.memory_statistics_data.height}}):t._e(),"disk"===t.form.type.value?a("Eline",{key:3,attrs:{option:t.disk_statistics_data.option,height:t.disk_statistics_data.height}}):t._e(),"net"===t.form.type.value?a("Eline",{key:4,attrs:{option:t.net_statistics_data.option,height:t.net_statistics_data.height}}):t._e(),"load"===t.form.type.value?a("Eline",{key:5,attrs:{option:t.load_statistics_data.option,height:t.load_statistics_data.height}}):t._e(),"swap"===t.form.type.value?a("Eline",{key:6,attrs:{option:t.swap_statistics_data.option,height:t.swap_statistics_data.height}}):t._e(),"process"===t.form.type.value?a("Eline",{key:7,attrs:{option:t.process_statistics_data.option,height:t.process_statistics_data.height}}):t._e()],1)],1),a("div",{staticClass:" col-md-12 col-xs-12 row q-mt-xl justify-around"},[t._l(t.checkItem,(function(e,s){return a("label",{key:s,staticClass:"col-md-5 col-xs-12  q-pt-md q-pb-md row bg-grey-4 items-center justify-around q-mb-md"},[null!==s?a("div",[a("q-icon",{staticClass:"q-mx-sm",attrs:{name:"lens",color:t.field_color[s]}}),a("span",{staticClass:"text-weight-bold"},[t._v(t._s(e.name)+": "+t._s(t.get_item_data(e.data)))])],1):t._e(),a("span",{staticClass:"text-weight-bold text-grey-6"},[t._v(t._s(t.$t("ostat.min"))+": "+t._s(t.get_min(e.data)))]),a("span",{staticClass:"text-weight-bold text-grey-6"},[t._v(t._s(t.$t("ostat.mean"))+": "+t._s(t.get_mean(e.data)))]),a("span",{staticClass:"text-weight-bold text-grey-6"},[t._v(t._s(t.$t("ostat.max"))+": "+t._s(t.get_max(e.data)))])])})),t.checkItem.length%2==1?a("label",{staticClass:"col-md-5 col-xs-12  q-pt-md q-pb-md row items-center justify-around q-mb-md"}):t._e()],2)],1)],1)],1)])],1)},o=[],i=a("2f62"),r=a("73ec"),n=a("bd4c"),l=a("2a19"),c=a("4d91"),d=a("2ef0"),m=a.n(d),p=a("e046"),u=function(){return u=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var o in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},u.apply(this,arguments)},h=function(t,e,a,s){function o(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function r(t){try{l(s.next(t))}catch(e){i(e)}}function n(t){try{l(s["throw"](t))}catch(e){i(e)}}function l(t){t.done?a(t.value):o(t.value).then(r,n)}l((s=s.apply(t,e||[])).next())}))},b=function(t,e){var a,s,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function n(t){return function(e){return l([t,e])}}function l(i){if(a)throw new TypeError("Generator is already executing.");while(r)try{if(a=1,s&&(o=2&i[0]?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;switch(s=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,s=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(n){i=[6,n],s=0}finally{a=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f={name:"OstatPage",components:{Eline:p["a"]},preFetch:function(t){var e=t.store;return h(this,void 0,void 0,(function(){return b(this,(function(t){switch(t.label){case 0:return[4,e.dispatch("getNodeList")];case 1:return t.sent(),[2]}}))}))},setup:function(){return{}},created:function(){this.queryData()},mounted:function(){},computed:u(u(u({},Object(i["e"])({nodeOptions:function(t){return t.nodes.node_ip_options}})),Object(i["c"])([])),{checkItem:function(){var t=null;switch(this.form.type.value){case"cpu":t=this.cpu_statistics_data.option.series;break;case"memory":t=this.memory_statistics_data.option.series;break;case"disk":t=this.disk_statistics_data.option.series;break;case"net":t=this.net_statistics_data.option.series;break;case"load":t=this.load_statistics_data.option.series;break;case"swap":t=this.swap_statistics_data.option.series;break;case"process":t=this.process_statistics_data.option.series;break}return t},multipleData:function(){var t=[{icon:"icon_dashboard",to:"/dashboard"},{label:this.$t("breadCrumbs.report"),icon:"icon_report",to:"/report/ostat",call:this.queryData},{label:this.$t("breadCrumbs.ostat.page")}];return t}}),data:function(){var t=n["b"].formatDate(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),e=n["b"].formatDate(new Date,"HH:mm"),a=n["b"].formatDate(new Date,"YYYY-MM-DD"),s=n["b"].formatDate(new Date,"HH:mm");return{timer:null,clean_timer:null,form:{machine_id:this.$store.state.nodes.node_ip_options[0],type:{label:c["b"].t("ostat.cpu.title"),value:"cpu"},start_date:t,start_time:e,end_date:a,end_time:s},start:null,end:null,min:null,mean:null,max:null,websock:null,field_color:["purple","orange","cyan-13","indigo","yellow","teal"],options:[{label:c["b"].t("ostat.cpu.title"),value:"cpu"},{label:c["b"].t("ostat.memory.title"),value:"memory"},{label:c["b"].t("ostat.disk.title"),value:"disk"},{label:c["b"].t("ostat.net.title"),value:"net"},{label:c["b"].t("ostat.load.title"),value:"load"},{label:c["b"].t("ostat.swap.title"),value:"swap"},{label:c["b"].t("ostat.process.title"),value:"process"}],trans_field:["memory","disk","net"],cpu_statistics_data:{height:240,option:{tooltip:{formatter:function(t){var e="";return t.map((function(t){e=e+t.marker+t.seriesName+"："+t.value+"</br>"})),t[0].name+"<br>"+e}},toolbox:{feature:{dataView:{show:!1},restore:{show:!1},dataZoom:{show:!0}}},legend:{data:[c["b"].t("ostat.cpu.ipt"),c["b"].t("ostat.cpu.sys"),c["b"].t("ostat.cpu.usr"),c["b"].t("ostat.cpu.nice"),c["b"].t("ostat.cpu.idl")]},xAxis:{show:!0,data:[]},yAxis:[{name:c["b"].t("ostat.cpu.title")}],series:[{name:c["b"].t("ostat.cpu.ipt"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(193, 126, 204)",lineStyle:{color:"rgb(193, 126, 204)"}}},{name:c["b"].t("ostat.cpu.sys"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(238, 147, 2)",lineStyle:{color:"rgb(238, 147, 2)"}}},{name:c["b"].t("ostat.cpu.usr"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(0, 208, 214)",lineStyle:{color:"rgb(0, 208, 214)"}}},{name:c["b"].t("ostat.cpu.nice"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(13, 86, 136)",lineStyle:{color:"rgb(13, 86, 136)"}}},{name:c["b"].t("ostat.cpu.idl"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(240, 203, 0)",lineStyle:{color:"rgb(240, 203, 0)"}}}],grid:{top:"30%",margin:"2%"}}},memory_statistics_data:{height:240,option:{tooltip:{formatter:function(t){var e="";return t.map((function(t){e=e+t.marker+t.seriesName+"："+Object(r["a"])(t.value)+" </br>"})),t[0].name+"<br>"+e}},toolbox:{feature:{dataView:{show:!1},restore:{show:!1},dataZoom:{show:!0}}},legend:{data:[c["b"].t("ostat.memory.used"),c["b"].t("ostat.memory.buff"),c["b"].t("ostat.memory.cach"),c["b"].t("ostat.memory.free")]},xAxis:{show:!0,data:[]},yAxis:[{name:c["b"].t("ostat.capacity"),axisLabel:{formatter:function(t,e){return Object(r["a"])(t)}}},{name:c["b"].t("ostat.memory.cach")}],series:[{name:c["b"].t("ostat.memory.used"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(193, 126, 204)",lineStyle:{color:"rgb(193, 126, 204)"}}},{name:c["b"].t("ostat.memory.buff"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(238, 147, 2)",lineStyle:{color:"rgb(238, 147, 2)"}}},{name:c["b"].t("ostat.memory.cach"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(0, 208, 214)",lineStyle:{color:"rgb(0, 208, 214)"}}},{name:c["b"].t("ostat.memory.free"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(13, 87, 136)",lineStyle:{color:"rgb(13, 87, 136)"}}}],grid:{top:"30%",margin:"2%"}}},disk_statistics_data:{height:240,option:{tooltip:{formatter:function(t){var e="";return t.map((function(t){e=e+t.marker+t.seriesName+"："+Object(r["a"])(t.value)+" </br>"})),t[0].name+"<br>"+e}},toolbox:{feature:{dataView:{show:!1},restore:{show:!1},dataZoom:{show:!0}}},legend:{data:[c["b"].t("ostat.disk.read"),c["b"].t("ostat.disk.writ")]},xAxis:{show:!0,data:[]},yAxis:[{name:c["b"].t("ostat.capacity"),axisLabel:{formatter:function(t,e){return Object(r["a"])(t)}}}],series:[{name:c["b"].t("ostat.disk.read"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(193, 126, 204)",lineStyle:{color:"rgb(193, 126, 204)"}}},{name:c["b"].t("ostat.disk.writ"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(238, 147, 2)",lineStyle:{color:"rgb(238, 147, 2)"}}}],grid:{top:"30%",margin:"2%"}}},net_statistics_data:{height:240,option:{tooltip:{formatter:function(t){var e="";return t.map((function(t){e=e+t.marker+t.seriesName+"："+Object(r["a"])(t.value)+" </br>"})),t[0].name+"<br>"+e}},toolbox:{feature:{dataView:{show:!1},restore:{show:!1},dataZoom:{show:!0}}},legend:{data:[c["b"].t("ostat.net.recv"),c["b"].t("ostat.net.send")]},xAxis:{show:!0,data:[]},yAxis:[{name:c["b"].t("ostat.speed"),axisLabel:{formatter:function(t,e){return Object(r["a"])(t)}}}],series:[{name:c["b"].t("ostat.net.recv"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(193, 126, 204)",lineStyle:{color:"rgb(193, 126, 204)"}}},{name:c["b"].t("ostat.net.send"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(238, 147, 2)",lineStyle:{color:"rgb(238, 147, 2)"}}}],grid:{top:"30%",margin:"2%"}}},load_statistics_data:{height:240,option:{tooltip:{formatter:function(t){var e="";return t.map((function(t){var a="</br>";e=e+t.marker+t.seriesName+"："+t.value+a})),t[0].name+"<br>"+e}},toolbox:{feature:{dataView:{show:!1},restore:{show:!1},dataZoom:{show:!0}}},legend:{data:[c["b"].t("ostat.load.fst_min"),c["b"].t("ostat.load.fiv_min"),c["b"].t("ostat.load.fif_min")]},xAxis:{show:!0,data:[]},yAxis:[{name:c["b"].t("ostat.load.title"),max:100}],series:[{name:c["b"].t("ostat.load.fst_min"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(193, 126, 204)",lineStyle:{color:"rgb(193, 126, 204)"}}},{name:c["b"].t("ostat.load.fiv_min"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(238, 147, 2)",lineStyle:{color:"rgb(238, 147, 2)"}}},{name:c["b"].t("ostat.load.fif_min"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(0, 208, 214)",lineStyle:{color:"rgb(0, 208, 214)"}}}],grid:{top:"30%",margin:"2%"}}},swap_statistics_data:{height:240,option:{tooltip:{formatter:function(t){var e="";return t.map((function(t){e=e+t.marker+t.seriesName+"： </br>"})),t[0].name+"<br>"+e}},toolbox:{feature:{dataView:{show:!1},restore:{show:!1},dataZoom:{show:!0}}},legend:{data:[c["b"].t("ostat.swap.used"),c["b"].t("ostat.swap.free")]},xAxis:{show:!0,data:[]},yAxis:[{name:c["b"].t("ostat.swap.title")}],series:[{name:c["b"].t("ostat.swap.used"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(193, 126, 204)",lineStyle:{color:"rgb(193, 126, 204)"}}},{name:c["b"].t("ostat.swap.free"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(238, 147, 2)",lineStyle:{color:"rgb(238, 147, 2)"}}}],grid:{top:"30%",margin:"2%"}}},process_statistics_data:{height:240,option:{tooltip:{formatter:function(t){var e="";return t.map((function(t){e=e+t.marker+t.seriesName+"："+t.value+"</br>"})),t[0].name+"<br>"+e}},toolbox:{feature:{dataView:{show:!1},restore:{show:!1},dataZoom:{show:!0}}},legend:{data:[c["b"].t("ostat.process.sleeping"),c["b"].t("ostat.process.running"),c["b"].t("ostat.process.stopped"),c["b"].t("ostat.process.zombies"),c["b"].t("ostat.process.blocked")]},xAxis:{show:!0,data:[]},yAxis:[{name:c["b"].t("ostat.process.title")}],series:[{name:c["b"].t("ostat.process.sleeping"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(193, 126, 204)",lineStyle:{color:"rgb(193, 126, 204)"}}},{name:c["b"].t("ostat.process.running"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(238, 147, 2)",lineStyle:{color:"rgb(238, 147, 2)"}}},{name:c["b"].t("ostat.process.stopped"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(0, 208, 214)",lineStyle:{color:"rgb(0, 208, 214)"}}},{name:c["b"].t("ostat.process.zombies"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(13, 86, 136)",lineStyle:{color:"rgb(13, 86, 136)"}}},{name:c["b"].t("ostat.process.blocked"),type:"line",symbol:"none",smooth:0,data:[],itemStyle:{color:"rgb(240, 203, 0)",lineStyle:{color:"rgb(240, 203, 0)"}}}],grid:{top:"30%",margin:"2%"}}}}},destroyed:function(){},methods:u(u(u({},Object(i["d"])([])),Object(i["b"])(["getNodeList","getCpuInfo","getMemInfo","getDiskInfo","getInterfacesInfo","getLoadInfo","getProcessInfo","getSwapInfo"])),{clean_statistics_data:function(){return h(this,void 0,void 0,(function(){var t;return b(this,(function(e){switch(this.form.type.value){case"cpu":for(this.cpu_statistics_data.option.xAxis.data=[],t=0;t<this.cpu_statistics_data.option.series.length;t++)this.cpu_statistics_data.option.series[t].data=[];break;case"memory":for(this.memory_statistics_data.option.xAxis.data=[],t=0;t<this.memory_statistics_data.option.series.length;t++)this.memory_statistics_data.option.series[t].data=[];break;case"disk":for(this.disk_statistics_data.option.xAxis.data=[],t=0;t<this.disk_statistics_data.option.series.length;t++)this.disk_statistics_data.option.series[t].data=[];break;case"net":for(this.net_statistics_data.option.xAxis.data=[],t=0;t<this.net_statistics_data.option.series.length;t++)this.net_statistics_data.option.series[t].data=[];break;case"load":for(this.load_statistics_data.option.xAxis.data=[],t=0;t<this.load_statistics_data.option.series.length;t++)this.load_statistics_data.option.series[t].data=[];break;case"swap":for(this.swap_statistics_data.option.xAxis.data=[],t=0;t<this.swap_statistics_data.option.series.length;t++)this.swap_statistics_data.option.series[t].data=[];break;case"process":for(this.process_statistics_data.option.xAxis.data=[],t=0;t<this.process_statistics_data.option.series.length;t++)this.process_statistics_data.option.series[t].data=[];break}return[2]}))}))},bytes2human:function(t){return Object(r["a"])(t)},get_item_data:function(t){var e,a=(null===t||void 0===t?void 0:t.length)>=1?null===(e=t.slice(-1)[0].value)||void 0===e?void 0:e.toFixed(2):0;return this.trans_field.includes(this.form.type.value)?Object(r["a"])(a):a||"-"},get_max:function(t){var e=[];return t.map((function(t){e.push(t.value)})),this.trans_field.includes(this.form.type.value)?Object(r["a"])(+Math.max.apply(Math,e).toFixed(2)):Math.max.apply(Math,e).toFixed(2)},get_mean:function(t){var e=0;t.map((function(t){e+=t.value}));var a=Math.round(e/t.length*100)/100;return this.trans_field.includes(this.form.type.value)?Object(r["a"])(a):a},get_min:function(t){var e=[];return t.map((function(t){e.push(t.value)})),this.trans_field.includes(this.form.type.value)?Object(r["a"])(+Math.max.apply(Math,e).toFixed(2)):Math.min.apply(Math,e).toFixed(2)},queryData:function(){return h(this,void 0,void 0,(function(){var t,e,a,s,o,i,r,c,d,p,u,h,f,_,y,g,v,w,x,D,Y,k=this;return b(this,(function(b){switch(b.label){case 0:return t=this.form,e=t.start_date,a=t.start_time,t.step,s=t.end_date,o=t.end_time,[4,this.clean_statistics_data()];case 1:if(b.sent(),!(e&&a&&s&&o))return l["a"].create({position:"top",type:"warning",message:this.$t("ostat.set_time_hint")}),[2];if(this.start=new Date(e+" "+a).valueOf()/1e3,this.end=new Date(s+" "+o).valueOf()/1e3,this.start>=this.end)return l["a"].create({position:"top",type:"warning",message:this.$t("ostat.start_pass_end")}),[2];if(this.end>(new Date).valueOf())return l["a"].create({position:"top",type:"warning",message:this.$t("ostat.end_pass_now")}),[2];switch(i={machine_id:m.a.split(this.form.machine_id.value,"|")[0],start:this.start,end:this.end},r=this.form.type.value,r){case"cpu":return[3,2];case"memory":return[3,4];case"disk":return[3,6];case"net":return[3,8];case"load":return[3,10];case"swap":return[3,12];case"process":return[3,14]}return[3,16];case 2:return[4,this.$store.dispatch("getCpuInfo",i)];case 3:return b.sent(),c=this.$store.state.report.monitor_info,d=0,d=c.data.length>1?1e3*c.start+1e3*c.step:(new Date).valueOf(),c.data.map((function(t){c.data.length>1&&(d+=1e3*c.step),k.cpu_statistics_data.option.xAxis.data.push(n["b"].formatDate(d,"YYYY-MM-DD HH:mm:ss"));for(var e=0;e<k.cpu_statistics_data.option.series.length;e++)k.cpu_statistics_data.option.series[e].data.push({name:n["b"].formatDate(d,"YYYY-MM-DD HH:mm:ss"),value:t[e]})})),[3,16];case 4:return[4,this.$store.dispatch("getMemInfo",i)];case 5:return b.sent(),p=this.$store.state.report.monitor_info,u=0,u=p.data.length>1?1e3*p.start+1e3*p.step:(new Date).valueOf(),p.data.map((function(t){p.data.length>1&&(u+=1e3*p.step),k.memory_statistics_data.option.xAxis.data.push(n["b"].formatDate(u,"YYYY-MM-DD HH:mm:ss"));for(var e=0;e<k.memory_statistics_data.option.series.length;e++)k.memory_statistics_data.option.series[e].data.push({name:n["b"].formatDate(u,"YYYY-MM-DD HH:mm:ss"),value:t[e]})})),[3,16];case 6:return[4,this.$store.dispatch("getDiskInfo",i)];case 7:return b.sent(),h=this.$store.state.report.monitor_info,f=0,f=h.data.length>1?1e3*h.start+1e3*h.step:(new Date).valueOf(),h.data.map((function(t){h.data.length>1&&(f+=1e3*h.step),k.disk_statistics_data.option.xAxis.data.push(n["b"].formatDate(f,"YYYY-MM-DD HH:mm:ss"));for(var e=0;e<k.disk_statistics_data.option.series.length;e++)k.disk_statistics_data.option.series[e].data.push({name:n["b"].formatDate(f,"YYYY-MM-DD HH:mm:ss"),value:t[e]})})),[3,16];case 8:return[4,this.$store.dispatch("getInterfacesInfo",i)];case 9:return b.sent(),_=this.$store.state.report.monitor_info,y=0,y=_.data.length>1?1e3*_.start+1e3*_.step:(new Date).valueOf(),_.data.map((function(t){_.data.length>1&&(y+=1e3*_.step),k.net_statistics_data.option.xAxis.data.push(n["b"].formatDate(y,"YYYY-MM-DD HH:mm:ss"));for(var e=0;e<k.net_statistics_data.option.series.length;e++)k.net_statistics_data.option.series[e].data.push({name:n["b"].formatDate(y,"YYYY-MM-DD HH:mm:ss"),value:t[e]})})),[3,16];case 10:return[4,this.$store.dispatch("getLoadInfo",i)];case 11:return b.sent(),g=this.$store.state.report.monitor_info,v=0,v=g.data.length>1?1e3*g.start+1e3*g.step:(new Date).valueOf(),g.data.map((function(t){g.data.length>1&&(v+=1e3*g.step),k.load_statistics_data.option.xAxis.data.push(n["b"].formatDate(v,"YYYY-MM-DD HH:mm:ss"));for(var e=0;e<k.load_statistics_data.option.series.length;e++)k.load_statistics_data.option.series[e].data.push({name:n["b"].formatDate(v,"YYYY-MM-DD HH:mm:ss"),value:t[e]})})),[3,16];case 12:return[4,this.$store.dispatch("getSwapInfo",i)];case 13:return b.sent(),w=this.$store.state.report.monitor_info,x=0,x=w.data.length>1?1e3*w.start+1e3*w.step:(new Date).valueOf(),w.data.map((function(t){w.data.length>1&&(x+=1e3*w.step),k.swap_statistics_data.option.xAxis.data.push(n["b"].formatDate(x,"YYYY-MM-DD HH:mm:ss"));for(var e=0;e<k.swap_statistics_data.option.series.length;e++)k.swap_statistics_data.option.series[e].data.push({name:n["b"].formatDate(x,"YYYY-MM-DD HH:mm:ss"),value:t[e]})})),[3,16];case 14:return[4,this.$store.dispatch("getProcessInfo",i)];case 15:return b.sent(),D=this.$store.state.report.monitor_info,Y=0,Y=D.data.length>1?1e3*D.start+1e3*D.step:(new Date).valueOf(),D.data.map((function(t){D.data.length>1&&(Y+=1e3*D.step),k.process_statistics_data.option.xAxis.data.push(n["b"].formatDate(Y,"YYYY-MM-DD HH:mm:ss"));for(var e=0;e<k.process_statistics_data.option.series.length;e++)k.process_statistics_data.option.series[e].data.push({name:n["b"].formatDate(Y,"YYYY-MM-DD HH:mm:ss"),value:t[e]})})),[3,16];case 16:return[2]}}))}))},changeLabel:function(){return h(this,void 0,void 0,(function(){return b(this,(function(t){switch(t.label){case 0:return[4,this.queryData()];case 1:return t.sent(),[2]}}))}))},initWebSocket:function(){return h(this,void 0,void 0,(function(){var t,e,a,s,o;return b(this,(function(i){return t=this.form,t.type,e=t.start_date,a=t.start_time,s=t.end_date,o=t.end_time,this.start=(new Date).valueOf(),this.end=(new Date).valueOf(),null!==e&&null!==a&&null!==s&&null!==o&&(this.start=new Date(e+a).valueOf(),this.end=new Date(s+o).valueOf()),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose,[2]}))}))},websocketonerror:function(){console.log("websocket error")},websocketonmessage:function(t){var e=this,a=JSON.parse(t.data),s=this.start;new Date;switch(this.min=a.aggregations.min,this.mean=a.aggregations.mean,this.max=a.aggregations.max,a.name){case"cpu":a.data.map((function(t){a.data.length>1?s+=1e3*e.form.step:s=n["b"].formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),e.cpu_statistics_data.option.xAxis.data.push(n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"));for(var o=0;o<e.cpu_statistics_data.option.series.length;o++)e.cpu_statistics_data.option.series[o].data.push({name:n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"),value:t[o]})}));break;case"memory":a.data.map((function(t){a.data.length>1?s+=1e3*e.form.step:s=n["b"].formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),e.memory_statistics_data.option.xAxis.data.push(n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"));for(var o=0;o<e.memory_statistics_data.option.series.length;o++)e.memory_statistics_data.option.series[o].data.push({name:n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"),value:t[o]})}));break;case"disk":a.data.map((function(t){a.data.length>1?s+=1e3*e.form.step:s=n["b"].formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),e.disk_statistics_data.option.xAxis.data.push(n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"));for(var o=0;o<e.disk_statistics_data.option.series.length;o++)e.disk_statistics_data.option.series[o].data.push({name:n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"),value:t[o]})}));break;case"net":a.data.map((function(t){a.data.length>1?s+=1e3*e.form.step:s=n["b"].formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),e.net_statistics_data.option.xAxis.data.push(n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"));for(var o=0;o<e.net_statistics_data.option.series.length;o++)e.net_statistics_data.option.series[o].data.push({name:n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"),value:t[o]})}));break;case"load":a.data.map((function(t){a.data.length>1?s+=1e3*e.form.step:s=n["b"].formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),e.load_statistics_data.option.xAxis.data.push(n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"));for(var o=0;o<e.load_statistics_data.option.series.length;o++)e.load_statistics_data.option.series[o].data.push({name:n["b"].formatDate(s,"YYYY-MM-DD HH:mm:ss"),value:t[o]})}));break}},websocketclose:function(t){console.log("close websocket",t)}})},_=f,y=(a("9675"),a("2877")),g=a("9989"),v=a("f09f"),w=a("a370"),x=a("0170"),D=a("ddd8"),Y=a("66e5"),k=a("4074"),S=a("27f9"),M=a("9c40"),C=a("eb85"),H=a("cb32"),O=a("0016"),q=a("eebe"),$=a.n(q),A=Object(y["a"])(_,s,o,!1,null,null,null);e["default"]=A.exports;$()(A,"components",{QPage:g["a"],QCard:v["a"],QCardSection:w["a"],QItemLabel:x["a"],QSelect:D["a"],QItem:Y["a"],QItemSection:k["a"],QInput:S["a"],QBtn:M["a"],QSeparator:C["a"],QAvatar:H["a"],QIcon:O["a"]})}}]);