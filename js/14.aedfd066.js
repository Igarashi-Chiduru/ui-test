(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"8d37":function(t,e,n){},b6be:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var a=function(t){var e=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return e.test(t)},s=function(t){var e=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/gm;return e.test(t)},i=function(t){return s(t)||a(t)},o=function(t){var e=/^[_a-zA-Z0-9]+$/;return e.test(t)}},b8e1:function(t,e,n){"use strict";n("8d37")},ce6d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"q-pa-lg"},[n("MultipleBreadcrumbs",{attrs:{"multiple-data":t.multipleData}}),n("q-card",{staticClass:"bg-grey-2"},[n("q-card",[n("q-card-section",{staticClass:"row justify-between items-center col-12"},[n("div",{staticClass:"col-4"},[n("label",{staticClass:"q-mt-none text-h5"},[t._v(t._s(t.$t("ntp.title")))])]),n("div",[n("q-btn",{attrs:{label:t.$t("ntp.sync"),color:"primary"},on:{click:function(e){t.syncModalControl=!t.syncModalControl}}})],1)])],1),n("div",{staticClass:"row q-mt-sm "},t._l(t.node_list,(function(e,a){return n("div",{key:a,staticClass:"col-md-3 col-sm-6 col-xs-12 q-px-sm q-mb-md"},[n("DivShadow",[n("q-card",{class:"Online"===e.status?"no-border-radius text-grey-9":"no-border-radius text-grey",attrs:{flat:""}},[n("q-card-section",{staticClass:"bg-white"},[n("q-avatar",{staticClass:"q-mr-sm",attrs:{color:"Online"===e.status?"green-1":"grey-3",size:"sm","text-color":"Online"===e.status?"green ":"grey",icon:"icon_node_manager"}}),n("span",[t._v(" "+t._s(e.hostname)+" ")]),n("span",[n("q-chip",{class:"Online"===e.status?"bg-green-1  float-right":"bg-grey-1 float-right",attrs:{size:"sm",square:"",outline:"",color:"Online"===e.status?"green":"grey"}},[t._v(t._s(e.ip))])],1)],1),n("q-separator"),n("q-card-section",{staticClass:"q-pa-md",attrs:{flat:"",square:""}},[n("div",{staticStyle:{height:"80px"}},[n("q-item-label",{staticClass:"q-mb-md",staticStyle:{"font-size":"x-large"}},[t._v("\n                  "+t._s(e.os_release)+"\n                ")]),n("q-item-label",{staticClass:"row justify-between "},[n("div",{staticClass:"q-mt-md"},[n("q-icon",{staticClass:"q-mx-sm",attrs:{name:"brightness_1",color:"Online"===e.status?"green":"grey"}}),n("span",[t._v(t._s("Online"===e.status?t.$tc("on",2):t.$tc("off",2))+"\n                    ")])],1),n("div",{staticClass:"q-mt-md"},[n("span",{class:"Online"===e.status?"text-blue text-weight-bold":"text-weight-bold"},[t._v("\n                      "+t._s(t.$t("ntp.now_time"))+"：\n                    ")]),n("span",{staticClass:"q-mr-md"},[t._v("\n                      "+t._s("Online"===e.status?t.now_time(e.now_time):"-")+"\n                    ")])])])],1)])],1)],1)],1)})),0)],1),n("q-dialog",{model:{value:t.syncModalControl,callback:function(e){t.syncModalControl=e},expression:"syncModalControl"}},[n("q-card",{staticStyle:{"min-width":"400px"}},[n("q-form",{on:{submit:t.syncNtpServer,reset:t.onReset}},[n("q-card-section",{staticClass:"row items-center"},[n("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("ntp.sync_title")))]),n("q-space"),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),n("q-card-section",{staticClass:"row justify-center",staticStyle:{width:"400px"}},[n("div",{staticClass:"col-sm-12 col-xs-11 q-gutter-md"},[n("q-select",{staticClass:"q-pb-sm",attrs:{behavior:"menu",outlined:"","options-dense":"",options:t.typeOptions,label:t.$t("ntp.select_type"),dense:"",square:"",clearable:"",rules:[function(e){return e||t.$t("ntp.select_type_hint")}]},on:{input:t.setType},model:{value:t.select_type,callback:function(e){t.select_type=e},expression:"select_type"}}),"ntp"===t.form.type?n("q-input",{staticClass:"q-pb-sm",attrs:{label:t.$t("ntp.input_ntp_ip"),outlined:"",dense:"",square:"",clearable:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("ntp.input_ntp_ip_hint")},function(e){return t.isIPValid(e)||t.$t("ntp.input_ntp_ip_error_hint")}]},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}}):"other"===t.form.type?n("div",{staticClass:"column q-pb-sm"},[n("div",{staticClass:"q-mb-lg"},[n("q-select",{attrs:{behavior:"menu",outlined:"","options-dense":"",options:t.zoneOptions,label:t.$t("ntp.select_zone"),dense:"",square:"",clearable:"",rules:[function(e){return e||t.$t("ntp.select_zone_hint")}]},model:{value:t.form.zone,callback:function(e){t.$set(t.form,"zone",e)},expression:"form.zone"}}),n("q-field",{style:t.date_hint?"border: 1px solid #C10015":"",attrs:{label:t.$t("ntp.select_date"),behavior:"menu",outlined:"","options-dense":"",dense:"",square:"","stack-label":!0},on:{focus:function(e){t.selectDate=!0}},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event",color:"primary"}})]},proxy:!0},{key:"control",fn:function(){return[n("div",{staticClass:"self-center full-width no-outline",attrs:{tabindex:"0"}},[t._v("\n                      "+t._s(t.form.date)+"\n                    ")])]},proxy:!0}])}),t.date_hint?n("span",{staticStyle:{color:"#C10015","font-size":"11px"}},[t._v(t._s(t.$t("ntp.select_date_hint")))]):t._e(),t.selectDate?n("div",["zh-cn"===t.language?n("q-date",{staticStyle:{width:"100%"},attrs:{mask:"YYYY-MM-DD",color:"primary","today-btn":"",title:t.getDateTitle,subtitle:t.getDateSubTitle,locale:t.myLocale},on:{blur:function(e){t.selectDate=!1}},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}},[n("div",{staticClass:"row items-center justify-end q-gutter-sm"},[n("q-btn",{attrs:{label:t.$t("cancel"),color:"primary",flat:""},on:{click:function(e){return t.cancelSelect("date")}}}),n("q-btn",{attrs:{label:t.$t("confirm"),color:"primary",flat:""},on:{click:function(e){t.selectDate=!t.selectDate}}})],1)]):n("q-date",{staticStyle:{width:"100%"},attrs:{mask:"YYYY-MM-DD",color:"primary","today-btn":""},on:{blur:function(e){t.selectDate=!1}},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}},[n("div",{staticClass:"row items-center justify-end q-gutter-sm"},[n("q-btn",{attrs:{label:t.$t("cancel"),color:"primary",flat:""},on:{click:function(e){return t.cancelSelect("date")}}}),n("q-btn",{attrs:{label:t.$t("confirm"),color:"primary",flat:""},on:{click:function(e){t.selectDate=!t.selectDate}}})],1)])],1):t._e()],1),n("q-field",{style:t.time_hint?"border: 1px solid #C10015":"",attrs:{label:t.$t("ntp.select_time"),behavior:"menu",outlined:"","options-dense":"",dense:"",square:"","stack-label":!0},on:{focus:function(e){t.selectTime=!0}},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"schedule",color:"primary"}})]},proxy:!0},{key:"control",fn:function(){return[n("div",{staticClass:"self-center full-width no-outline",attrs:{tabindex:"0"}},[t._v("\n                    "+t._s(t.form.time)+"\n                  ")])]},proxy:!0}])}),t.time_hint?n("span",{staticStyle:{color:"#C10015","font-size":"11px"}},[t._v(t._s(t.$t("ntp.select_time_hint")))]):t._e(),t.selectTime?n("div",[n("q-time",{staticStyle:{width:"352px"},attrs:{mask:"HH:mm",color:"primary",locale:"zh-cn"===t.language?t.myLocale:null},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}},[n("div",{staticClass:"row items-center justify-end q-gutter-sm"},[n("q-btn",{attrs:{label:t.$t("cancel"),color:"primary",flat:""},on:{click:function(e){return t.cancelSelect("time")}}}),n("q-btn",{attrs:{label:t.$t("confirm"),color:"primary",flat:""},on:{click:function(e){t.selectTime=!t.selectTime}}})],1)])],1):t._e()],1):t._e(),n("div",{staticClass:"text-right"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:t.$t("cancel"),type:"reset",color:"grey-6"}}),n("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",label:t.$tc("submit",1),type:"submit",color:"primary"}})],1)],1)])],1)],1)],1)],1)},s=[],i=n("2f62"),o=n("4d91"),r=n("bd4c"),l=n("b6be"),c=function(){return c=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var s in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},c.apply(this,arguments)},u=function(t,e,n,a){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function o(t){try{l(a.next(t))}catch(e){i(e)}}function r(t){try{l(a["throw"](t))}catch(e){i(e)}}function l(t){t.done?n(t.value):s(t.value).then(o,r)}l((a=a.apply(t,e||[])).next())}))},d=function(t,e){var n,a,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(t){return function(e){return l([t,e])}}function l(i){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,a&&(s=2&i[0]?a["return"]:i[0]?a["throw"]||((s=a["return"])&&s.call(a),0):a.next)&&!(s=s.call(a,i[1])).done)return s;switch(a=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(s=o.trys,!(s=s.length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(r){i=[6,r],a=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f={name:"ntpPage",components:{},preFetch:function(t){t.store},created:function(){var t=this;this.timer=setInterval((function(){t.node_list.map((function(t){t.now_time=t.now_time+1e3}))}),1e3)},data:function(){for(var t=[],e=1;e<25;e++)e>=13?t.push({label:"UTC-"+(e-12),value:e}):t.push({label:"UTC+"+e,value:e});return{timer:null,syncModalControl:!1,selectDate:!1,selectTime:!1,form:{type:null,ip:"",date:"",time:"",zone:""},select_type:null,myLocale:{days:"星期天_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),daysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),firstDayOfWeek:1},typeOptions:[{label:o["b"].t("ntp.other_type"),value:"other"}],zoneOptions:t,date_hint:!1,time_hint:!1,node_list:[{hostname:"node103",ip:"172.16.120.103",os_release:"CentOS Linux 7 (Core)",status:"Online",now_time:(new Date).valueOf()},{hostname:"node104",ip:"172.16.120.104",os_release:"CentOS Linux 7 (Core)",status:"Offline",now_time:(new Date).valueOf()-1e3},{hostname:"node105",ip:"172.16.120.105",os_release:"CentOS Linux 7 (Core)",status:"Online",now_time:(new Date).valueOf()-2e3},{hostname:"node106",ip:"172.16.120.106",os_release:"CentOS Linux 7 (Core)",status:"Online",now_time:(new Date).valueOf()},{hostname:"node107",ip:"172.16.120.107",os_release:"CentOS Linux 7 (Core)",status:"Online",now_time:(new Date).valueOf()-3e3}]}},destroyed:function(){clearInterval(this.timer)},computed:c(c({now_time:function(){return function(t){return r["b"].formatDate(t,"YYYY-MM-DD HH:mm:ss")}},getDateTitle:function(){if(this.form.date){var t=this.form.date.split("-");return t[1].replace(/\b(0+)/gi,"")+"月  "+t[2].replace(/\b(0+)/gi,"")+"号"}},getDateSubTitle:function(){if(this.form.date)return this.form.date.split("-")[0]+"年"},filter_columns:function(){return this.columns.filter((function(t){return"operation"!==t.name}))},multipleData:function(){var t=[{label:this.$t("breadCrumbs.dashboard"),icon:"icon_dashboard",to:"/dashboard"},{label:this.$t("breadCrumbs.system_settings.label"),icon:"icon_system_settings"},{label:this.$t("breadCrumbs.ntp.page")}];return t}},Object(i["e"])({nodeList:function(t){return t.nodes.node_list},language:function(t){return t.language}})),Object(i["c"])({})),watch:{date_hint:function(t,e){var n=this;t&&setTimeout((function(){n.date_hint=e}),1500)},time_hint:function(t,e){var n=this;t&&setTimeout((function(){n.time_hint=e}),1500)}},methods:c(c(c({},Object(i["d"])([])),Object(i["b"])(["getNodeList"])),{setType:function(t){this.form.type=t?t.value:t},cancelSelect:function(t){switch(t){case"date":this.form.date="",this.selectDate=!1;break;case"time":this.form.time="",this.selectTime=!1;break;default:break}},isIPValid:function(t){return Object(l["a"])(t)},syncNtpServer:function(){return u(this,void 0,void 0,(function(){return d(this,(function(t){return""===this.form.date?(this.date_hint=!0,[2]):""===this.form.time?(this.time_hint=!0,[2]):(this.syncModalControl=!1,this.onReset(),[2])}))}))},onReset:function(){this.selectDate=!1,this.selectTime=!1,this.select_type=null,this.form={type:null,ip:"",date:"",time:"",zone:""}}})},m=f,p=(n("b8e1"),n("2877")),_=n("9989"),b=n("f09f"),h=n("a370"),y=n("9c40"),v=n("cb32"),q=n("b047"),C=n("eb85"),g=n("0170"),w=n("0016"),x=n("24e8"),O=n("0378"),$=n("2c91"),k=n("ddd8"),D=n("27f9"),S=n("8572"),F=n("52ee"),A=n("ca78"),T=n("7f67"),z=n("eebe"),Q=n.n(z),j=Object(p["a"])(m,a,s,!1,null,null,null);e["default"]=j.exports;Q()(j,"components",{QPage:_["a"],QCard:b["a"],QCardSection:h["a"],QBtn:y["a"],QAvatar:v["a"],QChip:q["a"],QSeparator:C["a"],QItemLabel:g["a"],QIcon:w["a"],QDialog:x["a"],QForm:O["a"],QSpace:$["a"],QSelect:k["a"],QInput:D["a"],QField:S["a"],QDate:F["a"],QTime:A["a"]}),Q()(j,"directives",{ClosePopup:T["a"]})}}]);