(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"01b5":function(t,e,s){},2910:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-pa-lg"},[s("MultipleBreadcrumbs",{attrs:{"multiple-data":t.multipleData}}),s("q-table",{staticClass:"q-mb-none",style:t.allDirList.length>0?"height: 700px":"",attrs:{data:t.allDirList,columns:t.columns,"row-key":"name",selection:"multiple",selected:t.selected,"visible-columns":t.visibleColumns,filter:t.filter,loading:t.getVfsLoading,"table-colspan":"12","overflow-hidden":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:t.pagination,"rows-per-page-options":[0]},on:{"update:selected":function(e){t.selected=e},"row-click":t.onRowClick,"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[s("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-left",fn:function(){return[s("q-breadcrumbs",[s("q-breadcrumbs-el",{staticClass:"cursor-pointer",attrs:{icon:"home"},on:{click:t.jumpRoot}}),t._l(t.path_tree,(function(e,i){return"tree"!==e?s("q-breadcrumbs-el",{key:i,class:i<t.path_tree.length-1?"cursor-pointer":"click-disable",attrs:{label:"tree"===e?"/":t.get_sub_name(e,!0)},on:{click:function(s){return t.jumpPath(e,i)}}},[s("q-tooltip",[t._v("\n            "+t._s(e)+"\n          ")])],1):t._e()}))],2)]},proxy:!0},{key:"top-right",fn:function(){return[s("q-space"),s("div",{staticClass:"q-pa-md row q-gutter-md"},[s("q-btn",{attrs:{outline:"",color:"primary"},on:{click:function(e){t.createDirControl=!t.createDirControl}}},[s("q-icon",{staticClass:"material-icons-outlined",attrs:{name:"create_new_folder",size:"1.8em"}}),s("q-tooltip",{attrs:{"content-class":"bg-primary"}},[t._v(t._s(t.$t("filesystem.create")))])],1),s("q-btn",{attrs:{outline:"",disable:t.selected.length<1,color:"primary"},on:{click:function(e){t.copyControl=!t.copyControl}}},[s("q-icon",{staticClass:"material-icons-outlined",attrs:{name:"file_copy",size:"1.8em"}}),s("q-tooltip",{attrs:{"content-class":"bg-primary"}},[t._v(t._s(t.$t("filesystem.copy")))])],1),s("q-btn",{attrs:{outline:"",disable:t.selected.length<1,color:"primary"},on:{click:function(e){t.moveControl=!t.moveControl}}},[s("q-icon",{staticClass:"material-icons-outlined",attrs:{name:"drive_file_move",size:"1.8em"}}),s("q-tooltip",{attrs:{"content-class":"bg-primary"}},[t._v(t._s(t.$t("filesystem.move")))])],1),s("q-btn",{attrs:{outline:"",disable:t.selected.length<1,color:"primary"},on:{click:function(e){t.removeSelectedControl=!t.removeSelectedControl}}},[s("q-icon",{staticClass:"material-icons-outlined",attrs:{name:"delete",size:"1.8em"}}),s("q-tooltip",{attrs:{"content-class":"bg-primary"}},[t._v(t._s(t.$t("filesystem.delete")))])],1)],1)]},proxy:!0},t.showReturn?{key:"top-row",fn:function(){return[s("q-tr",{staticClass:"cursor-pointer",on:{click:t.returnPath}},[s("q-td"),s("q-td",{attrs:{colspan:"100%"}},[s("span",{staticClass:"text-primary"},[t._v(t._s(t.$t("filesystem.previous_path")))])])],1)]},proxy:!0}:null,{key:"body-cell-name",fn:function(e){return[s("q-td",{attrs:{props:e}},[t.isDirectory(e.row.type)?s("div",{staticClass:"cursor-pointer row items-center justify-start",on:{click:function(s){return t.nextPath(e.row.name)}}},[s("div",[s("q-icon",{staticClass:"material-icons-outlined",attrs:{name:"folder",size:"1.5em"}}),s("span",{ref:"fileLength",staticClass:"q-ml-sm",staticStyle:{color:"#005980"}},[t._v(t._s(t.get_sub_name(e.row.name,!1)))])],1),s("q-tooltip",{attrs:{anchor:"bottom start",self:"top left"}},[t._v("\n            "+t._s(e.row.name)+"\n          ")])],1):s("div",{staticClass:"row items-center justify-start"},[s("div",[s("q-icon",{staticClass:"material-icons-outlined",attrs:{name:"description",size:"1.5em"}}),s("span",{ref:"fileLength",staticClass:"q-ml-sm",staticStyle:{color:"#005980"}},[t._v("\n              "+t._s(t.get_sub_name(e.row.name,!1))+"\n            ")])],1),s("q-tooltip",{attrs:{anchor:"bottom start",self:"top left"}},[t._v("\n            "+t._s(e.row.name)+"\n          ")])],1)])]}},{key:"body-cell-operation",fn:function(e){return[s("q-td",{key:"operation",attrs:{props:e}},[s("q-btn",{attrs:{flat:"",icon:"more_vert",color:"black"}},[s("q-menu",{attrs:{"auto-close":""}},[s("q-list",{staticStyle:{"min-width":"100px"}},[s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.getDetailInfo}},[s("q-item-section",[t._v(t._s(t.$t("filesystem.file_info")))])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.moveControl=!t.moveControl}}},[s("q-item-section",[t._v(t._s(t.$t("filesystem.move_operation")))])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.renameControl=!t.renameControl}}},[s("q-item-section",[t._v(t._s(t.$t("filesystem.rename")))])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.removeControl=!t.removeControl}}},[s("q-item-section",[t._v(t._s(t.$t("delete")))])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.copyControl=!t.copyControl}}},[s("q-item-section",[t._v(t._s(t.$t("filesystem.copy_operation")))])],1),s("q-item",{directives:[{name:"show",rawName:"v-show",value:t.isDirectory(e.row.type),expression:"isDirectory(props.row.type)"},{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:{name:"quota_set",params:{action:"update",query_path:t.selectRow.path}}}},[s("q-item-section",[t._v(t._s(t.$t("filesystem.quota")))])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.setPermission}},[s("q-item-section",[t._v(t._s(t.$t("filesystem.permission")))])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.getSettings}},[s("q-item-section",[t._v(t._s(t.$t("filesystem.advance_setting")))])],1)],1)],1)],1)],1)]}},t.showMore?{key:"bottom-row",fn:function(){return[s("q-tr",{staticClass:"cursor-pointer",on:{click:t.loadMore}},[s("q-td"),s("q-td",{attrs:{colspan:"100%"}},[s("span",{staticClass:"text-primary"},[t._v(t._s(t.$t("filesystem.load_more")))])])],1)]},proxy:!0}:null],null,!0)},[s("TableNoData",{attrs:{slot:"no-data",filter:t.filter,loading:t.getVfsLoading},slot:"no-data"})],1),s("q-dialog",{model:{value:t.createDirControl,callback:function(e){t.createDirControl=e},expression:"createDirControl"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("filesystem.create")))]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-form",{on:{submit:t.createDir,reset:t.onReset}},[s("q-card-section",{staticClass:"row justify-center",staticStyle:{"min-width":"400px"}},[s("div",{staticClass:"col-sm-12 col-xs-11 q-gutter-md"},[s("q-input",{staticClass:"q-pb-sm",attrs:{label:t.$t("filesystem.path"),outlined:"",dense:"",square:"",clearable:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("filesystem.input_path")}]},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}}),s("div",{staticClass:"text-right"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:t.$t("cancel"),type:"reset",color:"grey-6"}}),s("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",label:t.$t("create"),type:"submit",color:"primary"}})],1)],1)])],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.removeControl,callback:function(e){t.removeControl=e},expression:"removeControl"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6 text-weight-bold"},[t._v(t._s(t.$t("delete")))])]),s("q-card-section",{staticClass:"q-pt-none",staticStyle:{"min-width":"300px"}},[t.isDirectory(t.selectRow.type)?s("span",{staticClass:"q-ml-sm"},[s("i18n",{attrs:{path:"filesystem.dir_reconfirm"}},[s("span",{staticStyle:{"font-weight":"bold"},attrs:{place:"dir_name"}},[t._v(t._s(t.selectRow.name))])])],1):s("span",{staticClass:"q-ml-sm"},[s("i18n",{attrs:{path:"filesystem.file_reconfirm"}},[s("span",{staticStyle:{"font-weight":"bold"},attrs:{place:"file_name"}},[t._v(t._s(t.selectRow.name))])])],1)]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("cancel"),color:"orange"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("delete"),color:"red"},on:{click:t.remove}})],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.removeSelectedControl,callback:function(e){t.removeSelectedControl=e},expression:"removeSelectedControl"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6 text-weight-bold"},[t._v(t._s(t.$t("delete")))])]),s("q-card-section",{staticClass:"q-pt-none",staticStyle:{"min-width":"300px"}},[s("span",{staticClass:"q-ml-sm"},[t._v("\n          "+t._s(t.$t("filesystem.remove_all"))+"\n        ")])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("cancel"),color:"orange"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("delete"),color:"red"},on:{click:t.removeAll}})],1)],1)],1),s("q-dialog",{model:{value:t.moveControl,callback:function(e){t.moveControl=e},expression:"moveControl"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("filesystem.move_operation")))]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-form",{on:{submit:t.move,reset:t.onReset}},[s("q-card-section",{staticClass:"row justify-center",staticStyle:{"min-width":"400px"}},[s("div",{staticClass:"col-sm-12 col-xs-11 q-gutter-md"},[s("q-input",{staticClass:"q-pb-sm",attrs:{label:t.$t("filesystem.input_dst_path"),outlined:"",dense:"",square:"",clearable:"",rules:[function(e){return e&&e.length>0||t.$t("filesystem.input_dst_path_hint")}]},model:{value:t.form.dst_path,callback:function(e){t.$set(t.form,"dst_path",e)},expression:"form.dst_path"}}),s("q-toggle",{attrs:{color:"green","checked-icon":"check",label:t.$t("filesystem.overwrite")},model:{value:t.form.overwrite,callback:function(e){t.$set(t.form,"overwrite",e)},expression:"form.overwrite"}}),s("div",{staticClass:"text-right"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:t.$t("cancel"),type:"reset",color:"grey-6"}}),s("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",label:t.$tc("submit",1),type:"submit",color:"primary"}})],1)],1)])],1)],1)],1),s("q-dialog",{model:{value:t.renameControl,callback:function(e){t.renameControl=e},expression:"renameControl"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("filesystem.rename")))]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-form",{on:{submit:t.rename,reset:t.onReset}},[s("q-card-section",{staticClass:"row justify-center",staticStyle:{"min-width":"400px"}},[s("div",{staticClass:"col-sm-12 col-xs-11 q-gutter-md"},[s("q-input",{staticClass:"q-pb-sm",attrs:{label:t.$t("filesystem.input_new_path"),outlined:"",dense:"",square:"",clearable:"",rules:[function(e){return e&&e.length>0||t.$t("filesystem.input_new_path_hint")}]},model:{value:t.form.new_path,callback:function(e){t.$set(t.form,"new_path",e)},expression:"form.new_path"}}),s("div",{staticClass:"text-right"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:t.$t("cancel"),type:"reset",color:"grey-6"}}),s("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",label:t.$tc("submit",1),type:"submit",color:"primary"}})],1)],1)])],1)],1)],1),s("q-dialog",{model:{value:t.copyControl,callback:function(e){t.copyControl=e},expression:"copyControl"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("filesystem.copy_operation")))]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-form",{on:{submit:t.copy,reset:t.onReset}},[s("q-card-section",{staticClass:"row justify-center",staticStyle:{"min-width":"400px"}},[s("div",{staticClass:"col-sm-12 col-xs-11 q-gutter-md"},[s("q-input",{staticClass:"q-pb-sm",attrs:{label:t.$t("filesystem.input_dst_path"),outlined:"",dense:"",square:"",clearable:"",rules:[function(e){return e&&e.length>0||t.$t("filesystem.input_dst_path_hint")}]},model:{value:t.form.dst_path,callback:function(e){t.$set(t.form,"dst_path",e)},expression:"form.dst_path"}}),s("q-toggle",{attrs:{color:"green","checked-icon":"check",label:t.$t("filesystem.overwrite")},model:{value:t.form.overwrite,callback:function(e){t.$set(t.form,"overwrite",e)},expression:"form.overwrite"}}),s("div",{staticClass:"text-right"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:t.$t("cancel"),type:"reset",color:"grey-6"}}),s("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",label:t.$tc("submit",1),type:"submit",color:"primary"}})],1)],1)])],1)],1)],1),s("q-dialog",{model:{value:t.permissionControl,callback:function(e){t.permissionControl=e},expression:"permissionControl"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("filesystem.permission")))]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-form",{on:{submit:t.permission,reset:t.onReset}},[s("q-card-section",{staticClass:"row justify-center",staticStyle:{"min-width":"500px"}},[s("div",{staticClass:"col-sm-12 col-xs-11 q-gutter-md"},[s("q-field",{staticClass:"q-pb-sm",attrs:{label:t.$t("filesystem.input_dst_path"),outlined:"",dense:"",square:"","stack-label":""},scopedSlots:t._u([{key:"control",fn:function(){return[s("div",{attrs:{tabindex:"0"}},[t._v(t._s(t.selectRow.path))])]},proxy:!0}])}),s("q-select",{staticClass:"q-pb-sm",attrs:{behavior:"menu",outlined:"",options:t.userOption,label:t.$t("filesystem.select_owner"),dense:"",square:"",color:"primary","options-selected-class":"text-primary",rules:[function(e){return e||t.$t("filesystem.select_owner_hint")}]},scopedSlots:t._u([{key:"option",fn:function(e){return[s("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[s("q-item-section",[s("q-item-label",{domProps:{innerHTML:t._s(e.opt.label)}}),s("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.description))])],1)],1)]}}]),model:{value:t.permission_form.owner,callback:function(e){t.$set(t.permission_form,"owner",e)},expression:"permission_form.owner"}}),s("q-select",{staticClass:"q-pb-sm",attrs:{behavior:"menu",outlined:"",options:t.groupOption,label:t.$t("filesystem.select_group"),dense:"",square:"",color:"primary","options-selected-class":"text-primary",rules:[function(e){return e||t.$t("filesystem.select_group_hint")}]},scopedSlots:t._u([{key:"option",fn:function(e){return[s("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[s("q-item-section",[s("q-item-label",{domProps:{innerHTML:t._s(e.opt.label)}}),s("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.description))])],1)],1)]}}]),model:{value:t.permission_form.group,callback:function(e){t.$set(t.permission_form,"group",e)},expression:"permission_form.group"}}),s("div",{staticClass:"q-pa-sm bg-grey-1 rounded-borders"},[s("div",{staticClass:"row col-12 items-center justify-center content-center"},[s("span",{staticClass:"col-2"},[t._v(" "+t._s(t.$t("filesystem.owner"))+": ")]),s("q-option-group",{staticClass:"col-10",attrs:{options:t.ownerModeOptions,type:"checkbox",color:"primary",inline:""},model:{value:t.permission_form.owner_mode,callback:function(e){t.$set(t.permission_form,"owner_mode",e)},expression:"permission_form.owner_mode"}})],1),s("div",{staticClass:"row col-12 items-center justify-center content-center"},[s("span",{staticClass:"col-2"},[t._v(" "+t._s(t.$t("filesystem.group"))+": ")]),s("q-option-group",{staticClass:"col-10",attrs:{options:t.groupModeOptions,type:"checkbox",color:"primary",inline:""},model:{value:t.permission_form.group_mode,callback:function(e){t.$set(t.permission_form,"group_mode",e)},expression:"permission_form.group_mode"}})],1),s("div",{staticClass:"row col-12 items-center justify-center content-center"},[s("span",{staticClass:"col-2"},[t._v(" "+t._s(t.$t("filesystem.other"))+": ")]),s("q-option-group",{staticClass:"col-10",attrs:{options:t.otherModeOptions,type:"checkbox",color:"primary",inline:""},model:{value:t.permission_form.other_mode,callback:function(e){t.$set(t.permission_form,"other_mode",e)},expression:"permission_form.other_mode"}})],1)]),s("q-toggle",{attrs:{color:"green","checked-icon":"check",label:t.$t("filesystem.chmod_recursive")},model:{value:t.permission_form.chmod_recursive,callback:function(e){t.$set(t.permission_form,"chmod_recursive",e)},expression:"permission_form.chmod_recursive"}}),s("q-toggle",{attrs:{color:"green","checked-icon":"check",label:t.$t("filesystem.chown_recursive")},model:{value:t.permission_form.chown_recursive,callback:function(e){t.$set(t.permission_form,"chown_recursive",e)},expression:"permission_form.chown_recursive"}}),s("div",{staticClass:"text-right"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:t.$t("cancel"),type:"reset",color:"grey-6"}}),s("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",label:t.$tc("submit",1),type:"submit",color:"primary"}})],1)],1)])],1)],1)],1),s("q-dialog",{model:{value:t.detailControl,callback:function(e){t.detailControl=e},expression:"detailControl"}},[s("q-card",{staticStyle:{"min-width":"660px"}},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[t._v("\n          "+t._s(t.isDirectory(t.selectRow.type)?t.$t("filesystem.dir_detail"):t.$t("filesystem.file_detail"))+"\n        ")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-card-section",{staticClass:"row justify-center q-mb-md"},[s("div",{staticClass:"col-sm-12 col-xs-12 q-gutter-md"},[void 0!==t.detail_info?s("fieldset",{staticClass:"q-pa-md shadow-2 rounded-borders"},[s("legend",{staticClass:"text-primary text-weight-bold"},[t._v("\n              "+t._s(t.$t("filesystem.detail_info_title"))+"\n            ")]),s("div",{staticClass:"row col-12"},[s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.inode"))+":")]),s("span",{staticClass:"col-10"},[t._v(t._s(t.getDetailField("inode")))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.mode"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getDetailField("mode")))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.size"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.bytes2human(t.getDetailField("size"))))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.links"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getDetailField("links")))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.blocks"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getDetailField("blocks")))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.uid"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getDetailField("uid")))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.gid"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getDetailField("gid")))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.atime"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getDetailField("atime")))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.mtime"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getFormatTime(t.getDetailField("mtime"))))]),s("label",{staticClass:"col-2"},[t._v(t._s(t.$t("filesystem.ctime"))+":")]),s("span",{staticClass:"col-4"},[t._v(t._s(t.getFormatTime(t.getDetailField("ctime"))))])])]):t._e(),s("fieldset",{staticClass:"q-pa-md shadow-2 rounded-borders"},[s("legend",{staticClass:"text-primary text-weight-bold"},[t._v("\n              "+t._s(t.$t("filesystem.detail_info_block_title"))+"\n            ")]),s("pre",[t._v(t._s(t.isDirectory(t.selectRow.type)?t.detail_info.dirinfo_buf:t.detail_info.fileinfo_buf))])])])])],1)],1),s("q-dialog",{model:{value:t.otherControl,callback:function(e){t.otherControl=e},expression:"otherControl"}},[s("q-card",{staticStyle:{"min-width":"660px"}},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[t._v("\n          "+t._s(t.$t("filesystem.advance_setting"))+"\n        ")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-form",{on:{submit:t.setOtherSettings,reset:t.onReset}},[s("q-card-section",{staticClass:"row justify-center"},[s("div",{staticClass:"col-sm-12 col-xs-12 q-gutter-md"},[s("fieldset",{staticClass:"q-gutter-y-sm rounded-borders"},[s("div",{staticClass:"row"},[s("div",{staticClass:"row items-center col-12"},[s("q-item-label",{staticClass:"col-2 q-mb-md"},[t._v("\n                    "+t._s(t.$t("filesystem.trashtime"))+":\n                  ")]),s("q-input",{staticClass:"col-10",attrs:{rounded:"",type:"number",outlined:"",dense:"",square:"","lazy-rules":"",rules:[function(e){return e>0&&e<=8760||t.$t("filesystem.trash_time_input_hint")}]},model:{value:t.trash_time,callback:function(e){t.trash_time=t._n(e)},expression:"trash_time"}})],1)]),s("div",{staticClass:"row q-mb-lg"},[s("div",{staticClass:"row items-center col-12"},[s("q-item-label",{staticClass:"col-2 q-mb-md"},[t._v("\n                    "+t._s(t.$t("filesystem.sclass"))+":\n                  ")]),s("q-select",{staticClass:"col-10",attrs:{behavior:"menu",outlined:"",options:t.tierOption,dense:"",square:"",color:"primary","options-selected-class":"text-primary","lazy-rules":"",rules:[function(e){return e||t.$t("filesystem.sclass_input_hint")}]},scopedSlots:t._u([{key:"option",fn:function(e){return[s("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[s("q-item-section",[s("q-item-label",[t._v(t._s(e.opt.label)+"\n                            "),s("span",{staticClass:"text-weight-light text-grey"},[t._v("\n                              - "+t._s(e.opt.description))])])],1)],1)]}}]),model:{value:t.sclass_option,callback:function(e){t.sclass_option=e},expression:"sclass_option"}})],1)]),s("legend",{staticClass:"text-primary text-weight-bold"},[t._v("\n                "+t._s(t.$t("filesystem.advance_setting"))+"\n              ")]),s("div",{staticClass:"row justify-between"},[s("span",[t._v(t._s(t.$t("filesystem.tar"))+":")]),s("div",[s("q-btn",{attrs:{flat:"",unelevated:"",color:"primary",label:t.$t("add")},on:{click:t.setArchiveInfo}}),s("q-btn",{attrs:{flat:"",unelevated:"",label:t.$t("clean")},on:{click:t.cleanArchiveInfo}})],1)]),s("div",{staticClass:"text-no-wrap",staticStyle:{width:"580px",overflow:"auto"}},[s("pre",{staticClass:"bg-grey-1"},[t._v(t._s(t.getArchiveInfo(t.archiveInfo)))])])]),s("div",{staticClass:"text-right"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:t.$t("cancel"),type:"reset",color:"grey-6"}}),s("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",label:t.$tc("submit",1),type:"submit",color:"primary"}})],1)])])],1)],1)],1)],1)},r=[],o=s("2f62"),a=s("73ec"),n=s("4d91"),l=s("2ef0"),c=s.n(l),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"q-pa-md q-gutter-sm",staticStyle:{width:"320px"},attrs:{flat:""}},[s("div",[s("div",{staticClass:"q-gutter-sm"},[s("q-btn",{attrs:{size:"sm",color:"primary",label:"Select 'Good service'"},on:{click:t.selectGoodService}}),t.selected?s("q-btn",{attrs:{size:"sm",color:"red",label:"Unselect node"},on:{click:t.unselectNode}}):t._e(),t._v("\n      "+t._s(this.dir_path)+"\n    ")],1)]),s("q-scroll-area",{staticStyle:{height:"300px","border-right":"1px solid #ddd"},attrs:{"thumb-style":{right:"1px",borderRadius:"5px",background:"lightskyblue",width:"4px",opacity:.5}}},[t._v("\n  "+t._s(t.expanded)+"\n    "),s("q-tree",{attrs:{nodes:t.dirViewList,"default-expand-all":"",selected:t.selected,"node-key":"label",expanded:t.expanded},on:{"update:selected":[function(e){t.selected=e},function(e){return t.selectDir(t.checkDir)}],"lazy-load":t.onLazyLoad,"update:expanded":function(e){t.expanded=e}}})],1)],1)},h=[],p=function(){return p=Object.assign||function(t){for(var e,s=1,i=arguments.length;s<i;s++)for(var r in e=arguments[s],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},p.apply(this,arguments)},m=function(t,e,s,i){function r(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,o){function a(t){try{l(i.next(t))}catch(e){o(e)}}function n(t){try{l(i["throw"](t))}catch(e){o(e)}}function l(t){t.done?s(t.value):r(t.value).then(a,n)}l((i=i.apply(t,e||[])).next())}))},d=function(t,e){var s,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function n(t){return function(e){return l([t,e])}}function l(o){if(s)throw new TypeError("Generator is already executing.");while(a)try{if(s=1,i&&(r=2&o[0]?i["return"]:o[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(n){o=[6,n],i=0}finally{s=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f={name:"DirView",setup:function(){var t=["name","sclass","ctime"];return{visibleColumns:t}},props:["path"],created:function(){return m(this,void 0,void 0,(function(){var t;return d(this,(function(e){switch(e.label){case 0:return console.log("path",this.path),t={data:{path:this.path},condition:{offset:0,limit:100,sort_key:"type",sort_oder:"desc"}},[4,this.$store.dispatch("getDirView",t)];case 1:return e.sent(),[2]}}))}))},data:function(){return{selected:"",dir_path:"",form:{path:""},expanded:[],simple:[{label:"Satisfied customers (with avatar)",avatar:"https://cdn.quasar.dev/img/boy-avatar.png",children:[{label:"Good food (with icon)",icon:"restaurant_menu",children:[{label:"Quality ingredients"},{label:"Good recipe"}]},{label:"Good service (disabled node with icon)",icon:"room_service",children:[{label:"Prompt attention"},{label:"Professional waiter"}]},{label:"Pleasant surroundings (with icon)",icon:"photo",children:[{label:"Happy atmosphere (with image)",img:"https://cdn.quasar.dev/img/logo_calendar_128px.png"},{label:"Good table presentation"},{label:"Pleasing decor"}]}]}]}},computed:p({showReturn:function(){return"/"!==this.path},filter_columns:function(){return this.columns.filter((function(t){return"operation"!=t.name&&"isdir"!=t.name}))}},Object(o["e"])({dirViewList:function(t){return c.a.cloneDeep(t.vfs.dir_view_list)}})),methods:p(p(p({},Object(o["d"])({})),Object(o["b"])(["getDirView","getDirChildren"])),{selectGoodService:function(){"Good service"!==this.selected&&(this.selected="Good service")},unselectNode:function(t){console.log("this.selected",this.selected,t)},checkDir:function(t,e,s,i){var r=this;return console.log("dir_list======",t),console.log(s.length,i,s),s.length===i&&t.map((function(t){t.label!==s[i-1]||(e.key=!0)})),s.length>i&&t.map((function(t){(null===t||void 0===t?void 0:t.children.length)>0&&r.checkDir(t.children,e,s,i+1)})),e},findDir:function(t,e,s){var i=this;if(console.log("parent_path",e),console.log("dir_list",t),t.length>0)return t.map((function(t){e.push(t.label),(null===t||void 0===t?void 0:t.children.length)>0&&i.findDir(t.children,e,s),console.log(t.label,s),t.label!==s&&(console.log("here----parent_path",e),e.pop(t.label))})),e},selectDir:function(t){return m(this,void 0,void 0,(function(){var e,s;return d(this,(function(i){return console.log(this.selected,this.dirViewList),e=[],this.dir_path.split("/").length>1?(e=c.a.slice(this.dir_path.split("/"),1),e.push(this.selected)):e=[this.selected],s=t(this.dirViewList,{key:!1},e,0),console.log("ret112233333",s),s.key?(this.form.path=this.dir_path+"/"+this.selected,console.log("path",this.form.path)):(this.findDir(this.dirViewList,[""],this.selected),console.log("若无则隐藏菜单从新路径/开始")),[2]}))}))},onLazyLoad:function(t){var e=t.node,s=t.key,i=t.done;t.fail;return m(this,void 0,void 0,(function(){var t,r,o,a;return d(this,(function(n){switch(n.label){case 0:return t=[],this.dir_path.split("/").length>1?(t=c.a.slice(this.dir_path.split("/"),1),t.push(s)):t=[s],console.log("path_arr",t),r=this.checkDir(this.dirViewList,{key:!1},t,0),console.log("same_level",r),r.key?this.dir_path=this.dir_path+"/"+s:this.dir_path="/"+s,console.log("dir_path",this.dir_path),o={data:{path:this.dir_path},condition:{offset:0,limit:100,sort_key:"type",sort_oder:"desc"}},[4,this.$store.dispatch("getDirChildren",o)];case 1:return a=n.sent(),i(a),console.log("node",e),console.log("key",s),console.log("expanded",this.expanded),[2]}}))}))},onRequest:function(t){return m(this,void 0,void 0,(function(){var e,s,i,r,o,a;return d(this,(function(n){switch(n.label){case 0:return e=t.pagination,s=e.page,i=e.rowsPerPage,r=e.sortBy,o=e.descending,this.loading=!0,a={data:{path:"/"},condition:{offset:1===s?0:s*i,limit:i,sort_key:r,sort_oder:o?"desc":"asc"}},[4,this.$store.dispatch("getDirView",a)];case 1:return n.sent(),this.loading=!1,this.pagination.page=s,this.pagination.rowsPerPage=i,this.pagination.sortBy=r,this.pagination.descending=o,[2]}}))}))},jumpPath:function(t,e){var s=c.a.replace(this.$route.path,"/file_manager/file_brower/tree/","").split("/");this.$router.push({path:"/file_manager/file_brower/tree/"+c.a.slice(s,0,e).join("/")})},nextPath:function(t){var e,s;this.loading=!0,(null===(s=null===(e=this.$route)||void 0===e?void 0:e.params)||void 0===s?void 0:s.pathMatch)?this.$router.push({path:this.$route.path+"/"+t}):this.$router.push({path:this.$route.path+"/tree/"+t})},returnPath:function(){var t,e;this.loading=!0;var s=c.a.split(this.$route.path,"/"),i=c.a.slice(s,0,s.length-1).join("/");c.a.split(null===(e=null===(t=this.$route)||void 0===t?void 0:t.params)||void 0===e?void 0:e.pathMatch,"/").length>1?this.$router.push({path:i}):this.$router.push({path:"/file_manager/file_brower"})},onRowClick:function(t,e,s){this.selectRow=e},onReset:function(){this.form={path:""}},refreshList:function(){return m(this,void 0,void 0,(function(){var t;return d(this,(function(e){switch(e.label){case 0:return t={data:{path:c.a.replace(this.$route.path,"/file_manager/file_brower/tree","")},condition:{offset:0,limit:100,sort_key:"type",sort_oder:"desc"}},[4,this.$store.dispatch("getDirView",t)];case 1:return e.sent(),[2]}}))}))}})},v=f,_=(s("6643"),s("2877")),b=s("f09f"),g=s("9c40"),y=s("4983"),w=s("7f41"),q=s("eaac"),C=s("eebe"),$=s.n(C),k=Object(_["a"])(v,u,h,!1,null,null,null),P=k.exports;$()(k,"components",{QCard:b["a"],QBtn:g["a"],QScrollArea:y["a"],QTree:w["a"],QTable:q["a"]});var x=function(){return x=Object.assign||function(t){for(var e,s=1,i=arguments.length;s<i;s++)for(var r in e=arguments[s],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},x.apply(this,arguments)},D=function(t,e,s,i){function r(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,o){function a(t){try{l(i.next(t))}catch(e){o(e)}}function n(t){try{l(i["throw"](t))}catch(e){o(e)}}function l(t){t.done?s(t.value):r(t.value).then(a,n)}l((i=i.apply(t,e||[])).next())}))},R=function(t,e){var s,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function n(t){return function(e){return l([t,e])}}function l(o){if(s)throw new TypeError("Generator is already executing.");while(a)try{if(s=1,i&&(r=2&o[0]?i["return"]:o[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(n){o=[6,n],i=0}finally{s=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},S={name:"FileSystemPage",components:{DirView:P},preFetch:function(t){var e=t.store,s=t.currentRoute;return D(this,void 0,void 0,(function(){var t,i;return R(this,(function(r){return t="/",s.fullPath.includes("tree")&&(t=c.a.replace(s.fullPath,"/file_manager/file_brower/tree","")),i={data:{path:t},condition:{offset:0,limit:100,sort_key:"type",sort_oder:"desc"}},e.dispatch("getVfs",i),[2]}))}))},setup:function(){var t=["name","type","size","ctime","operation"];return{visibleColumns:t}},created:function(){this.$route.path.includes("tree")&&(this.path_tree=c.a.replace(this.$route.fullPath,"/file_manager/file_brower/","").split("/"))},destroyed:function(){this.$store.commit("SET_All_VFS_LIST",[])},computed:x(x(x({},Object(o["e"])({dirList:function(t){return t.vfs.vfs_list},allDirList:function(t){return t.vfs.all_vfs_list},fileInfo:function(t){return t.vfs.file_info},dirInfo:function(t){return t.vfs.dir_info},archiveInfo:function(t){return t.vfs.archive},userOption:function(t){return t.acl.acl_user_options},groupOption:function(t){return t.acl.acl_group_options},tierOption:function(t){return t.tiers.tier_options}})),Object(o["c"])(["getVfsLoading"])),{get_sub_name:function(){return function(t,e){var s=t,i=30;return e&&(i=10),t.length>i&&(s=t.substring(0,i)+"..."),decodeURIComponent(s)}},isDirectory:function(){return function(t){return"directory"===t}},getDetailField:function(){var t=this;return function(e){var s;return void 0!==(null===(s=t.detail_info)||void 0===s?void 0:s.stat_info)?t.detail_info.stat_info[e]:""}},getArchiveInfo:function(){return function(t){return null!==t?t.archive_buf:"-"}},showReturn:function(){return this.$route.path.includes("tree")},showMore:function(){return this.allDirList.length!==+this.pagination.rowsNumber},filter_columns:function(){return this.columns.filter((function(t){return"operation"!=t.name&&"isdir"!=t.name}))},multipleData:function(){var t=[{icon:"icon_dashboard",to:"/dashboard"},{label:this.$t("breadCrumbs.file_manager"),icon:"icon_file_manager",to:"/file_manager/file_brower",call:this.refreshList},{label:this.$t("breadCrumbs.filesystem.page")}];return t},pagination:{get:function(){var t={sortBy:this.pagination_data.sortBy,descending:this.pagination_data.descending,page:this.pagination_data.page,rowsPerPage:this.pagination_data.rowsPerPage,rowsNumber:+this.$store.state.vfs.total};return t},set:function(t){}}}),data:function(){return{path:"/",createDirControl:!1,removeControl:!1,removeSelectedControl:!1,moveControl:!1,copyControl:!1,renameControl:!1,permissionControl:!1,detailControl:!1,otherControl:!1,selected_cluster:"",loading:!1,filter:"",selected:[],selectRow:{},pageSize:50,pagination_data:{sortBy:"desc",descending:!1,page:1,rowsPerPage:0,rowsNumber:+this.$store.state.vfs.total},path_tree:[],is_disable:!1,form:{path:"",dst_path:"",new_path:"",overwrite:!1},ownerModeOptions:[{label:n["b"].t("read"),value:"4"},{label:n["b"].t("write"),value:"2"},{label:n["b"].t("filesystem.execution"),value:"1"}],groupModeOptions:[{label:n["b"].t("read"),value:"4"},{label:n["b"].t("write"),value:"2"},{label:n["b"].t("filesystem.execution"),value:"1"}],otherModeOptions:[{label:n["b"].t("read"),value:"4"},{label:n["b"].t("write"),value:"2"},{label:n["b"].t("filesystem.execution"),value:"1"}],permission_form:{owner:null,group:null,owner_mode:[],group_mode:[],other_mode:[],chmod_recursive:!1,chown_recursive:!1},detail_info:{},trash_time:0,trashtime_recursive:!1,sclass:0,sclass_option:null,sclass_recursive:!1,columns:[{name:"path",label:this.$t("filesystem.path"),field:"path",align:"left",style:"width: 20%"},{name:"name",label:this.$t("filesystem.name"),align:"left",field:"name"},{name:"type",label:this.$t("filesystem.type"),field:"type",align:"center",format:function(t,e){return"directory"===e.type?n["b"].t("filesystem.dir"):n["b"].t("filesystem.file")}},{name:"size",label:this.$t("filesystem.size"),align:"center",field:"size",format:function(t,e){return"directory"===e.type?"-":0===t?0:Object(a["a"])(t)}},{name:"ctime",label:this.$t("filesystem.ctime"),align:"center",field:"ctime",sortable:!0,format:function(t){return Object(a["d"])(t)}},{name:"operation",label:this.$t("operation"),align:"center"}]}},watch:{$route:function(t,e){return D(this,void 0,void 0,(function(){var t,e;return R(this,(function(s){switch(s.label){case 0:return t="/",this.checkNotRootPath()&&(console.log("this.$route.fullPath",this.$route.fullPath),t=c.a.replace(this.$route.fullPath,"/file_manager/file_brower/tree","")),e={data:{path:t},condition:{offset:0,limit:100,sort_key:"type",sort_oder:"desc"}},[4,this.$store.dispatch("getVfs",e)];case 1:return s.sent(),this.$store.commit("SET_All_VFS_LIST",this.dirList),this.$route.path.includes("tree")?this.path_tree=c.a.replace(this.$route.fullPath,"/file_manager/file_brower/","").split("/"):this.path_tree=[],this.loading=!1,[2]}}))}))}},methods:x(x(x({},Object(o["d"])(["SET_All_VFS_LIST"])),Object(o["b"])(["getVfs","makeDir","removeDir","move","rename","unlink","copy","getFileInfo","getDirInfo","chmod","chown","chkarchive","setarchive","clrarchive","setTrashtime","setSclass"])),{loadMore:function(){return D(this,void 0,void 0,(function(){var t,e,s;return R(this,(function(i){switch(i.label){case 0:return t=this.getPathParam(),e={data:{path:t},condition:{offset:this.allDirList.length,limit:100,sort_key:"type",sort_oder:"desc"}},[4,this.$store.dispatch("getVfs",e)];case 1:return i.sent(),s=c.a.cloneDeep(this.allDirList),this.$store.commit("SET_All_VFS_LIST",s.concat(this.dirList)),[2]}}))}))},checkNotRootPath:function(){return this.$route.fullPath.includes("tree")},getFormatTime:function(t){return Object(a["d"])(t)},bytes2human:function(t){return Object(a["a"])(t)},getPathParam:function(){var t="/";return this.checkNotRootPath()&&(t=c.a.replace(this.$route.fullPath,"/file_manager/file_brower/tree","")),t},jumpRoot:function(){return D(this,void 0,void 0,(function(){return R(this,(function(t){return this.checkNotRootPath()&&this.$router.push("/file_manager/file_brower"),this.refreshList(),[2]}))}))},jumpPath:function(t,e){var s=c.a.replace(this.$route.fullPath,"/file_manager/file_brower/tree/","").split("/");this.$router.push({path:"/file_manager/file_brower/tree/"+c.a.slice(s,0,e).join("/")})},nextPath:function(t){this.loading=!0,this.checkNotRootPath()?this.$router.push({path:this.$route.fullPath+"/"+t}):this.$router.push({path:this.$route.fullPath+"/tree/"+t})},returnPath:function(){this.loading=!0;var t=c.a.split(this.$route.fullPath,"/"),e=c.a.slice(t,0,t.length-1).join("/");this.checkNotRootPath()&&"/file_manager/file_brower/tree"!==e?this.$router.push({path:e}):this.$router.push({path:"/file_manager/file_brower"})},onRowClick:function(t,e,s){this.selectRow=e},onReset:function(){this.form={path:"",dst_path:"",new_path:"",overwrite:!1},this.permission_form={owner:null,group:null,owner_mode:[],group_mode:[],other_mode:[],chmod_recursive:!1,chown_recursive:!1},this.trash_time=0,this.trashtime_recursive=!1,this.sclass=0,this.sclass_option=null,this.sclass_recursive=!1,this.selected=[]},setPermission:function(){return D(this,void 0,void 0,(function(){var t,e,s,i,r,o,a,n,l,u=this;return R(this,(function(h){switch(h.label){case 0:return t=[],this.userOption.length||t.push(this.$store.dispatch("getAclUsers")),this.groupOption.length||t.push(this.$store.dispatch("getAclGroups")),e={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name},s=null,this.isDirectory(this.selectRow.type)?t.push(this.$store.dispatch("getDirInfo",e)):t.push(this.$store.dispatch("getFileInfo",e)),[4,Promise.all(t)];case 1:return h.sent(),i=this.selectRow.uid,r=this.selectRow.gid,this.permission_form.owner=null,this.permission_form.group=null,this.userOption.map((function(t){t.value[1]===i&&(u.permission_form.owner=t)})),null===this.permission_form.owner&&(this.permission_form.owner={label:i,value:[i,i]}),this.groupOption.map((function(t){t.value[1]===r&&(u.permission_form.group=t)})),null===this.permission_form.group&&(this.permission_form.group={label:r,value:[r,r]}),s=this.isDirectory(this.selectRow.type)?c.a.cloneDeep(this.dirInfo):c.a.cloneDeep(this.fileInfo),o=s.stat_info.acl_rights.user,a=s.stat_info.acl_rights.group,n=s.stat_info.acl_rights.other,l=function(t){var e=[];return t["read"]&&e.push("4"),t["write"]&&e.push("2"),t["exec"]&&e.push("1"),e},this.permission_form.owner_mode=l(o),this.permission_form.group_mode=l(a),this.permission_form.other_mode=l(n),this.permissionControl=!this.permissionControl,[2]}}))}))},refreshList:function(){return D(this,void 0,void 0,(function(){var t,e;return R(this,(function(s){switch(s.label){case 0:return t=this.getPathParam(),e={data:{path:t},condition:{offset:0,limit:100,sort_key:"type",sort_oder:"desc"}},[4,this.$store.dispatch("getVfs",e)];case 1:return s.sent(),this.$store.commit("SET_All_VFS_LIST",this.dirList),[2]}}))}))},createDir:function(){return D(this,void 0,void 0,(function(){var t;return R(this,(function(e){switch(e.label){case 0:return t={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.form.path,dir_name:this.form.path},[4,this.$store.dispatch("makeDir",t)];case 1:return e.sent(),this.createDirControl=!1,this.onReset(),[4,this.refreshList()];case 2:return e.sent(),[2]}}))}))},remove:function(){return D(this,void 0,void 0,(function(){var t;return R(this,(function(e){switch(e.label){case 0:return t={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,name:this.selectRow.name},this.isDirectory(this.selectRow.type)?[4,this.$store.dispatch("removeDir",t)]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,this.$store.dispatch("unlink",t)];case 3:e.sent(),e.label=4;case 4:return this.removeControl=!1,this.onReset(),[4,this.refreshList()];case 5:return e.sent(),[2]}}))}))},removeAll:function(){return D(this,void 0,void 0,(function(){var t=this;return R(this,(function(e){switch(e.label){case 0:return this.selected.length>0?[4,Promise.all(this.selected.map((function(e){return D(t,void 0,void 0,(function(){var t;return R(this,(function(s){switch(s.label){case 0:return t={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+e.name,name:e.name},this.isDirectory(e.type)?[4,this.$store.dispatch("removeDir",t)]:[3,2];case 1:return s.sent(),[3,4];case 2:return[4,this.$store.dispatch("unlink",t)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))})))]:[3,3];case 1:return e.sent(),this.removeSelectedControl=!1,this.onReset(),[4,this.refreshList()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},move:function(){return D(this,void 0,void 0,(function(){var t,e=this;return R(this,(function(s){switch(s.label){case 0:return this.selected.length>0?[4,Promise.all(this.selected.map((function(t){return D(e,void 0,void 0,(function(){var e;return R(this,(function(s){switch(s.label){case 0:return e={src_path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+t.name,dst_path:this.form.dst_path,overwrite:this.form.overwrite,name:t.name},[4,this.$store.dispatch("move",e)];case 1:return s.sent(),[2]}}))}))})))]:[3,2];case 1:return s.sent(),[3,4];case 2:return t={src_path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,dst_path:this.form.dst_path,overwrite:this.form.overwrite,name:this.selectRow.name},[4,this.$store.dispatch("move",t)];case 3:s.sent(),s.label=4;case 4:return this.moveControl=!1,this.onReset(),[4,this.refreshList()];case 5:return s.sent(),[2]}}))}))},rename:function(){return D(this,void 0,void 0,(function(){var t;return R(this,(function(e){switch(e.label){case 0:return t={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,new_path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.form.new_path,name:this.selectRow.name},[4,this.$store.dispatch("rename",t)];case 1:return e.sent(),this.renameControl=!1,this.onReset(),[4,this.refreshList()];case 2:return e.sent(),[2]}}))}))},copy:function(){return D(this,void 0,void 0,(function(){var t,e=this;return R(this,(function(s){switch(s.label){case 0:return this.selected.length>0?[4,Promise.all(this.selected.map((function(t){return D(e,void 0,void 0,(function(){var e;return R(this,(function(s){switch(s.label){case 0:return e={src_path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+t.name,dst_path:this.form.dst_path,overwrite:this.form.overwrite,name:t.name},[4,this.$store.dispatch("copy",e)];case 1:return s.sent(),[2]}}))}))})))]:[3,2];case 1:return s.sent(),[3,4];case 2:return t={src_path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,dst_path:this.form.dst_path,overwrite:this.form.overwrite,name:this.selectRow.name},[4,this.$store.dispatch("copy",t)];case 3:s.sent(),s.label=4;case 4:return this.copyControl=!1,this.onReset(),[4,this.refreshList()];case 5:return s.sent(),[2]}}))}))},permission:function(){return D(this,void 0,void 0,(function(){var t,e,s,i,r,o;return R(this,(function(a){switch(a.label){case 0:return t=0,e=0,s=0,this.permission_form.owner_mode.map((function(e){t+=+e})),this.permission_form.group_mode.map((function(t){e+=+t})),this.permission_form.other_mode.map((function(t){s+=+t})),i=""+t+e+s,r={name:this.selectRow.name,path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,mode:i,recursive:this.permission_form.chmod_recursive},o={name:this.selectRow.name,path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,owner:this.permission_form.owner.value[0],group:this.permission_form.group.value[0],recursive:this.permission_form.chown_recursive},[4,this.$store.dispatch("chmod",r)];case 1:return a.sent(),[4,this.$store.dispatch("chown",o)];case 2:return a.sent(),this.permissionControl=!1,this.onReset(),[4,this.refreshList()];case 3:return a.sent(),[2]}}))}))},getDetailInfo:function(){return D(this,void 0,void 0,(function(){var t;return R(this,(function(e){switch(e.label){case 0:return t={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name},this.isDirectory(this.selectRow.type)?[4,this.$store.dispatch("getDirInfo",t)]:[3,2];case 1:return e.sent(),this.detail_info=c.a.cloneDeep(this.dirInfo),[3,4];case 2:return[4,this.$store.dispatch("getFileInfo",t)];case 3:e.sent(),this.detail_info=c.a.cloneDeep(this.fileInfo),e.label=4;case 4:return this.trash_time=this.detail_info.trashtime/3600,this.sclass=this.detail_info.sclass,this.detailControl=!this.detailControl,[2]}}))}))},getSettings:function(){return D(this,void 0,void 0,(function(){var t,e,s=this;return R(this,(function(i){switch(i.label){case 0:return t=[],e={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name},this.isDirectory(this.selectRow.type)?t.push(this.$store.dispatch("getFileInfo",e)):t.push(this.$store.dispatch("getDirInfo",e)),t.push(this.$store.dispatch("chkarchive",e)),this.tierOption.length||t.push(this.$store.dispatch("getTiersInfo",e)),[4,Promise.all(t)];case 1:return i.sent(),this.isDirectory(this.selectRow.type)?this.detail_info=c.a.cloneDeep(this.fileInfo):this.detail_info=c.a.cloneDeep(this.dirInfo),this.trash_time=this.detail_info.trashtime/3600,this.sclass=this.detail_info.sclass,this.tierOption.map((function(t){t.value===s.detail_info.sclass&&(s.sclass_option=t)})),this.otherControl=!this.otherdetailControl,[2]}}))}))},setArchiveInfo:function(){return D(this,void 0,void 0,(function(){var t;return R(this,(function(e){switch(e.label){case 0:return t={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,name:this.selectRow.name},[4,this.$store.dispatch("setarchive",t)];case 1:return e.sent(),[4,this.$store.dispatch("chkarchive",t)];case 2:return e.sent(),[2]}}))}))},cleanArchiveInfo:function(){return D(this,void 0,void 0,(function(){var t;return R(this,(function(e){switch(e.label){case 0:return t={path:("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,name:this.selectRow.name},[4,this.$store.dispatch("clrarchive",t)];case 1:return e.sent(),[4,this.$store.dispatch("chkarchive",t)];case 2:return e.sent(),[2]}}))}))},setOtherSettings:function(){return D(this,void 0,void 0,(function(){var t,e;return R(this,(function(s){switch(s.label){case 0:return t=("/"===this.getPathParam()?"":this.getPathParam())+"/"+this.selectRow.name,this.trash_time===this.detail_info.trashtime/3600?[3,2]:(e={path:t,trashtime:3600*this.trash_time,recursive:this.trashtime_recursive,name:this.selectRow.name},[4,this.$store.dispatch("setTrashtime",e)]);case 1:s.sent(),s.label=2;case 2:return this.sclass_option.value===this.detail_info.sclass?[3,4]:(e={path:t,sc_name:this.sclass_option.value,recursive:this.sclass_recursive,name:this.selectRow.name},[4,this.$store.dispatch("setSclass",e)]);case 3:s.sent(),s.label=4;case 4:return this.otherControl=!1,this.onReset(),[2]}}))}))}})},L=S,O=(s("f0fa"),s("9989")),j=s("74f7"),I=s("ead5"),N=s("079e"),Q=s("05c0"),T=s("2c91"),F=s("0016"),V=s("bd08"),z=s("db86"),A=s("4e73"),M=s("1c1c"),E=s("66e5"),G=s("4074"),B=s("24e8"),H=s("a370"),U=s("0378"),J=s("27f9"),K=s("4b7e"),W=s("9564"),X=s("8572"),Y=s("ddd8"),Z=s("0170"),tt=s("9f0a"),et=s("eb85"),st=s("7f67"),it=s("714f"),rt=Object(_["a"])(L,i,r,!1,null,null,null);e["default"]=rt.exports;$()(rt,"components",{QPage:O["a"],QTable:q["a"],QInnerLoading:j["a"],QBreadcrumbs:I["a"],QBreadcrumbsEl:N["a"],QTooltip:Q["a"],QSpace:T["a"],QBtn:g["a"],QIcon:F["a"],QTr:V["a"],QTd:z["a"],QMenu:A["a"],QList:M["a"],QItem:E["a"],QItemSection:G["a"],QDialog:B["a"],QCard:b["a"],QCardSection:H["a"],QForm:U["a"],QInput:J["a"],QCardActions:K["a"],QToggle:W["a"],QField:X["a"],QSelect:Y["a"],QItemLabel:Z["a"],QOptionGroup:tt["a"],QSeparator:et["a"]}),$()(rt,"directives",{ClosePopup:st["a"],Ripple:it["a"]})},6643:function(t,e,s){"use strict";s("01b5")},e0d7:function(t,e,s){},f0fa:function(t,e,s){"use strict";s("e0d7")}}]);