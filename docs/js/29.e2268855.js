(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{bb95:function(t,a,e){"use strict";e.r(a);for(var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sc-base-list sc-design"},[t._m(0),e("div",{staticClass:"q-px-md"},[e("q-card",{staticClass:"q-gutter-y-md q-mt-md",attrs:{square:"",flat:""}},[e("div",{staticClass:"row justify-center"},[e("q-card-section",{staticClass:"col-sm col-xs-12"},[e("q-item-label",{staticClass:"text-body text-grey-6 text-center q-mb-sm"},[t._v("我的待办\n          ")]),e("q-item-label",{staticClass:"text-h5 text-center"},[t._v(t._s(t.basicListData.summaryData.waitDealTask)+"个任务")])],1),e("q-separator",{attrs:{vertical:""}}),e("q-card-section",{staticClass:"col-sm col-xs-12"},[e("q-item-label",{staticClass:"text-body text-grey-6 text-center q-mb-sm"},[t._v("本周任务平均处理时间\n          ")]),e("q-item-label",{staticClass:"text-h5 text-center"},[t._v(t._s(t.basicListData.summaryData.weekDealDuration)+"分钟")])],1),e("q-separator",{attrs:{vertical:""}}),e("q-card-section",{staticClass:"col-sm col-xs-12"},[e("q-item-label",{staticClass:"text-body text-grey-6 text-center q-mb-sm"},[t._v("本周完成任务数\n          ")]),e("q-item-label",{staticClass:"text-h5 text-center"},[t._v(t._s(t.basicListData.summaryData.completeTask)+"个任务")])],1)],1)]),e("q-card",{staticClass:"q-gutter-y-md q-mt-md sc-base-list-query",attrs:{square:"",flat:""}},[e("div",{staticClass:"row items-center q-px-md"},[e("q-item-label",{staticClass:"text-body1 col-sm-3 col-xs-4"},[t._v("\n          基本列表\n        ")]),e("q-card-section",{staticClass:"col-sm-9 col-xs-8 q-px-none"},[e("div",{staticClass:"row q-gutter-y-sm q-gutter-x-md justify-end"},[e("div",{staticClass:"col-md-5 col-xs-12",staticStyle:{"max-width":"280px"}},[e("q-btn-toggle",{staticClass:"no-border-radius bg-light-blue-1",staticStyle:{height:"36px"},attrs:{spread:"",dense:"",unelevated:"","toggle-color":"primary",options:[{label:"全部",value:"全部"},{label:"待处理",value:"待处理"},{label:"已完成",value:"已完成"}]},on:{click:t.queryData},model:{value:t.listQueryData.matterState,callback:function(a){t.$set(t.listQueryData,"matterState",a)},expression:"listQueryData.matterState"}})],1),e("div",{staticClass:"col-md-3 col-xs-12",staticStyle:{"max-width":"280px"}},[e("q-input",{ref:"ruleName",attrs:{placeholder:"请输入事项名称",outlined:"",dense:"",square:""},on:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.queryData(a)}},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-btn",{staticClass:"no-border-radius",staticStyle:{"margin-right":"-12px","border-left":"solid 1px lightgrey",height:"100%"},attrs:{dense:"",padding:"xs",flat:"",color:"lightgrey",icon:"search"},on:{click:t.queryData}})]},proxy:!0}]),model:{value:t.listQueryData.matter,callback:function(a){t.$set(t.listQueryData,"matter",a)},expression:"listQueryData.matter"}})],1),e("div",{staticClass:"col-md-auto col-xs-12 q-pb-sm col-sm gt-sm"},[e("q-btn",{staticClass:"no-border-radius q-px-sm",staticStyle:{border:"1px darkgrey dashed",height:"36px"},attrs:{ripple:!1,dense:"",flat:"",unelevated:"",icon:"add",label:"添加"},on:{click:t.addTaskDialog}})],1)])])],1),e("div",{staticClass:"q-mt-none q-pb-md q-px-md lt-md"},[e("q-btn",{staticClass:"full-width no-border-radius",staticStyle:{border:"1px darkgrey dashed",height:"36px"},attrs:{ripple:!1,padding:"xs",flat:"",unelevated:"",icon:"add",label:"添加"},on:{click:t.addTaskDialog}})],1)]),e("div",{staticClass:"bg-white q-mt-md q-pb-md q-pt-md"},[e("sc-page",{attrs:{items:t.filterListData,"per-number":10},scopedSlots:t._u([{key:"item",fn:function(a){return[e("q-item",{attrs:{"transition-show":"flip-up"}},[e("q-item-section",{attrs:{avatar:"",top:""}},[e("q-avatar",{attrs:{square:""}},[e("img",{attrs:{alt:"",src:a.item.imgSrc}})])],1),e("div",{staticClass:"row items-center q-col-gutter-y-sm full-width"},[e("div",{staticClass:"q-pt-xs col-xs-12"},[e("q-item-label",{staticClass:"items-center row",attrs:{lines:"1"}},[e("span",{staticClass:"text-h6"},[t._v(t._s(a.item.matter))]),e("span",{staticClass:"q-ml-xs"},["待处理"===a.item.state?e("q-chip",{staticClass:"bg-red-1 no-border-radius",attrs:{size:"sm",outline:"",color:"negative",square:""}},[t._v("\n                      "+t._s(a.item.state)+"\n                    ")]):t._e(),"已完成"===a.item.state?e("q-chip",{staticClass:"bg-green-1 no-border-radius",attrs:{size:"sm",outline:"",color:"positive",square:""}},[t._v("\n                      "+t._s(a.item.state)+"\n                    ")]):t._e()],1)]),e("q-item-label",{staticClass:"q-mr-md text-body text-grey-7",attrs:{lines:"2"}},[t._v("\n                  "+t._s(a.item.desc)+"\n                ")])],1),e("div",{staticClass:"col-sm-2 col-xs-6 text-body text-grey-7"},[e("q-item-label",{staticClass:"q-mb-xs"},[t._v(" Owner")]),e("q-item-label",[t._v("\n                  "+t._s(a.item.name)+"\n                ")])],1),e("div",{staticClass:"col-sm-3 col-xs-6 text-body text-grey-7"},[e("q-item-label",{staticClass:"q-mb-xs"},[t._v(" 开始时间")]),e("q-item-label",[t._v("\n                  "+t._s(a.item.startTime)+"\n                ")])],1),e("div",{staticClass:"col-md-2 col-sm-3 col-xs-10 q-pr-md"},[e("q-linear-progress",{attrs:{rounded:"",stripe:"",size:"md",value:a.item.progress}})],1),e("div",{staticClass:"col-md-2 col-sm-4 col-xs-12 q-gutter-sm"},[e("q-btn",{staticClass:"no-border-radius",attrs:{padding:"5px 10px",size:"12px",unelevated:"",dense:"",icon:"edit",color:"primary",label:"编辑"},on:{click:function(e){return t.editItem(a.item)}}}),e("q-btn-dropdown",{staticClass:"no-border-radius",attrs:{unelevated:"",size:"12px",padding:"5px 9px",color:"primary",dense:"",label:"更多"}},[e("q-list",{attrs:{dense:""}},[e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.editItem(a.item)}}},[e("q-item-section",[e("q-item-label",[t._v("编辑")])],1)],1),e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.deleteItem(a.item)}}},[e("q-item-section",[e("q-item-label",[t._v("删除")])],1)],1)],1)],1)],1)])],1),49!==a.item.id?e("q-separator",{attrs:{spaced:"10px",inset:""}}):t._e()]}}])})],1),e("q-dialog",{model:{value:t.addTask,callback:function(a){t.addTask=a},expression:"addTask"}},[e("q-card",{staticClass:"q-pb-md",staticStyle:{width:"600px"},attrs:{square:""}},[e("q-card-section",{staticClass:"row items-center"},[e("div",{staticClass:"text-h6"},[t._v("任务添加")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("form",{ref:"addDataForm",on:{submit:function(a){return a.preventDefault(),a.stopPropagation(),t.onSubmit(a)},reset:function(a){return a.preventDefault(),a.stopPropagation(),t.onReset(a)}}},[e("q-card-section",{staticClass:"row justify-center q-mt-sm"},[e("div",{staticClass:"col-sm-9 col-xs-11 q-gutter-md"},[e("q-input",{ref:"title",staticClass:"q-pb-none",attrs:{label:"任务名称",placeholder:"请输入",outlined:"",dense:"",square:"",clearable:"",rules:[function(t){return t&&t.length>0||"请输入任务名称"}]},model:{value:t.waitEdit.matter,callback:function(a){t.$set(t.waitEdit,"matter",a)},expression:"waitEdit.matter"}}),e("q-input",{ref:"beginTime",attrs:{outlined:"",label:"上次调度时间",dense:"",square:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-menu",{attrs:{square:"",offset:[12,10],"transition-show":"jump-down","transition-hide":"jump-up"}},[e("q-date",{attrs:{"today-btn":"",mask:"YYYY-MM-DD HH:mm"},model:{value:t.waitEdit.startTime,callback:function(a){t.$set(t.waitEdit,"startTime",a)},expression:"waitEdit.startTime"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[""!==t.waitEdit.startTime?e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(a){t.waitEdit.startTime=""}}}):t._e(),e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[e("q-menu",{attrs:{square:"",offset:[12,10],"transition-show":"jump-down","transition-hide":"jump-up"}},[e("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:t.waitEdit.startTime,callback:function(a){t.$set(t.waitEdit,"startTime",a)},expression:"waitEdit.startTime"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.waitEdit.startTime,callback:function(a){t.$set(t.waitEdit,"startTime",a)},expression:"waitEdit.startTime"}}),e("q-input",{ref:"owner",staticClass:"q-pb-none",attrs:{label:"任务负责人",placeholder:"请输入",outlined:"",dense:"",square:"",clearable:""},model:{value:t.waitEdit.name,callback:function(a){t.$set(t.waitEdit,"name",a)},expression:"waitEdit.name"}}),e("q-input",{ref:"desc",attrs:{label:"产品描述",type:"textarea",outlined:"",placeholder:"请输入最少五个字符",square:""},model:{value:t.waitEdit.desc,callback:function(a){t.$set(t.waitEdit,"desc",a)},expression:"waitEdit.desc"}}),e("div",{staticClass:"text-right"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm no-border-radius",attrs:{outline:"",unelevated:"",label:"取消",type:"reset",color:"grey-6"}}),e("q-btn",{staticClass:"no-border-radius",attrs:{unelevated:"",type:"submit",label:"保存",color:"primary"}})],1)],1)])],1)],1)],1)],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-white text-h6 q-pa-md"},[e("strong",[t._v("标准列表")])])}],r=(e("a434"),e("b0c0"),e("ac1f"),e("841c"),e("4795"),e("d9b2")),l=e("f1fb"),o=e("d547"),n=e("24b9"),c=e("bd4c"),d={waitDealTask:8,weekDealDuration:32,completeTask:23},m=["小小酥","张豆豆","王大锤","嬴政","诸葛亮"],p=["投资蚂蚁","建造摩天大楼","修建高铁","登月进程","飞出银河系"],u=["待处理","已完成"],b=["https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png","https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png","https://gw.alipayobjects.com/zos/rmsportal/dURIMkkrRFpPgTuzkwnB.png","https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png","https://gw.alipayobjects.com/zos/rmsportal/siCrBXXhmvTQGWPNLBow.png"],q=[],v=0;v<35;++v)q.push({id:v,imgSrc:o["a"].getRandomData(b),matter:o["a"].getRandomData(p),name:o["a"].getRandomData(m),startTime:c["b"].formatDate(n["a"].buildRandomDate(2020),"YYYY-MM-DD HH:mm"),state:o["a"].getRandomData(u),progress:Math.random(),desc:"那是一种内在的东西，他们到达不了，也无法触及的，那是一种内在的东西，他们到达不了，也无法触及的 那是一种内在的东西，他们到达不了，也无法触及的，那是一种内在的东西，他们到达不了，也无法触及的"});var f={summaryData:d,basicListDatas:q,imgSrcs:b},h=e("2ef0"),g=e.n(h),x=e("2b0e"),w={name:"BasicList",data:function(){return{basicListData:f,listQueryData:{matterState:"全部",matter:null},addTask:!1,filterListData:[],waitEdit:{}}},computed:{},methods:{queryData:function(){this.filterListData=[];for(var t=0;t<this.basicListData.basicListDatas.length;++t){var a=this.basicListData.basicListDatas[t];this.isMatchData(a)&&this.filterListData.push(a)}},isMatchData:function(t){var a=this.listQueryData,e=!1;a.matter&&-1===t.matter.search(a.matter)||(e=!0);var s=!1;return"全部"!==a.matterState&&t.state!==a.matterState||(s=!0),e&&s},onReset:function(){this.waitEdit.matter=null,this.waitEdit.name=null,this.waitEdit.startTime=null,this.waitEdit.desc=null,this.waitEdit.id=null,this.waitEdit.state=null},addTaskDialog:function(){this.waitEdit={},this.addTask=!0},editItem:function(t){console.log(JSON.stringify(t)),this.addTask=!0,this.waitEdit=g.a.clone(t)},deleteItem:function(t){for(var a=0;a<this.basicListData.basicListDatas.length;++a)this.basicListData.basicListDatas[a].id===t.id&&this.basicListData.basicListDatas.splice(a,1)},onSubmit:function(){var t=this;if(this.$refs.title.validate()){var a=g.a.clone(this.waitEdit);a.progress=Math.random(),a.imgSrc=o["a"].getRandomData(this.basicListData.imgSrcs);var e=r["a"];this.$q.loading.show({spinner:e,spinnerColor:"blue",spinnerSize:"40px",backgroundColor:"white",message:"添加任务...",messageColor:"blue"});var s=this.basicListData.basicListDatas;setTimeout((function(){var e="添加成功";if(void 0!==a.id){e="编辑成功";for(var i=0;i<s.length;++i)s[i].id===a.id&&x["a"].set(t.basicListData.basicListDatas,i,a)}else a.id=s.length+1,a.state="待处理",s.unshift(a);t.$forceUpdate(),t.$q.loading.hide(),t.$refs.addDataForm.reset(),t.addTask=!1,t.$q.notify({color:"white",textColor:"positive",icon:"check_circle",position:"top",message:e})}),2e3)}}},components:{ScPage:l["a"]},mounted:function(){this.filterListData=g.a.cloneDeep(f.basicListDatas)},watch:{basicListData:{handler:function(t,a){this.queryData()},immediate:!0,deep:!0}}},y=w,D=e("2877"),C=e("f09f"),k=e("a370"),_=e("0170"),E=e("eb85"),T=e("6a67"),L=e("27f9"),S=e("9c40"),Q=e("66e5"),j=e("4074"),$=e("cb32"),z=e("b047"),M=e("6b1d"),Y=e("f20b"),I=e("1c1c"),R=e("24e8"),N=e("2c91"),B=e("0016"),H=e("4e73"),O=e("52ee"),P=e("ca78"),F=e("7f67"),J=e("eebe"),X=e.n(J),U=Object(D["a"])(y,s,i,!1,null,null,null);a["default"]=U.exports;X()(U,"components",{QCard:C["a"],QCardSection:k["a"],QItemLabel:_["a"],QSeparator:E["a"],QBtnToggle:T["a"],QInput:L["a"],QBtn:S["a"],QItem:Q["a"],QItemSection:j["a"],QAvatar:$["a"],QChip:z["a"],QLinearProgress:M["a"],QBtnDropdown:Y["a"],QList:I["a"],QDialog:R["a"],QSpace:N["a"],QIcon:B["a"],QMenu:H["a"],QDate:O["a"],QTime:P["a"]}),X()(U,"directives",{ClosePopup:F["a"]})}}]);